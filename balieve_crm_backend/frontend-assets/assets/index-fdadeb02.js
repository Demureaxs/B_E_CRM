(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function l(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=l(r);fetch(r.href,o)}})();var ie,w,Ve,z,ke,ze,_e,Ue,oe={},Oe=[],rt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function V(e,t){for(var l in t)e[l]=t[l];return e}function Re(e){var t=e.parentNode;t&&t.removeChild(e)}function fe(e,t,l){var a,r,o,c={};for(o in t)o=="key"?a=t[o]:o=="ref"?r=t[o]:c[o]=t[o];if(arguments.length>2&&(c.children=arguments.length>3?ie.call(arguments,2):l),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)c[o]===void 0&&(c[o]=e.defaultProps[o]);return ee(e,c,a,r,null)}function ee(e,t,l,a,r){var o={type:e,props:t,key:l,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++Ve};return r==null&&w.vnode!=null&&w.vnode(o),o}function U(e){return e.children}function F(e,t){this.props=e,this.context=t}function K(e,t){if(t==null)return e.__?K(e.__,e.__.__k.indexOf(e)+1):null;for(var l;t<e.__k.length;t++)if((l=e.__k[t])!=null&&l.__e!=null)return l.__e;return typeof e.type=="function"?K(e):null}function Je(e){var t,l;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((l=e.__k[t])!=null&&l.__e!=null){e.__e=e.__c.base=l.__e;break}return Je(e)}}function pe(e){(!e.__d&&(e.__d=!0)&&z.push(e)&&!ae.__r++||ke!==w.debounceRendering)&&((ke=w.debounceRendering)||ze)(ae)}function ae(){var e,t,l,a,r,o,c,i;for(z.sort(_e);e=z.shift();)e.__d&&(t=z.length,a=void 0,r=void 0,c=(o=(l=e).__v).__e,(i=l.__P)&&(a=[],(r=V({},o)).__v=o.__v+1,ge(i,o,r,l.__n,i.ownerSVGElement!==void 0,o.__h!=null?[c]:null,a,c??K(o),o.__h),Ye(a,o),o.__e!=c&&Je(o)),z.length>t&&z.sort(_e));ae.__r=0}function qe(e,t,l,a,r,o,c,i,f,p){var s,_,u,d,m,h,v,g=a&&a.__k||Oe,y=g.length;for(l.__k=[],s=0;s<t.length;s++)if((d=l.__k[s]=(d=t[s])==null||typeof d=="boolean"||typeof d=="function"?null:typeof d=="string"||typeof d=="number"||typeof d=="bigint"?ee(null,d,null,null,d):Array.isArray(d)?ee(U,{children:d},null,null,null):d.__b>0?ee(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)!=null){if(d.__=l,d.__b=l.__b+1,(u=g[s])===null||u&&d.key==u.key&&d.type===u.type)g[s]=void 0;else for(_=0;_<y;_++){if((u=g[_])&&d.key==u.key&&d.type===u.type){g[_]=void 0;break}u=null}ge(e,d,u=u||oe,r,o,c,i,f,p),m=d.__e,(_=d.ref)&&u.ref!=_&&(v||(v=[]),u.ref&&v.push(u.ref,null,d),v.push(_,d.__c||m,d)),m!=null?(h==null&&(h=m),typeof d.type=="function"&&d.__k===u.__k?d.__d=f=Ge(d,f,e):f=Ke(e,d,u,g,m,f),typeof l.type=="function"&&(l.__d=f)):f&&u.__e==f&&f.parentNode!=e&&(f=K(u))}for(l.__e=h,s=y;s--;)g[s]!=null&&(typeof l.type=="function"&&g[s].__e!=null&&g[s].__e==l.__d&&(l.__d=Ze(a).nextSibling),Xe(g[s],g[s]));if(v)for(s=0;s<v.length;s++)Qe(v[s],v[++s],v[++s])}function Ge(e,t,l){for(var a,r=e.__k,o=0;r&&o<r.length;o++)(a=r[o])&&(a.__=e,t=typeof a.type=="function"?Ge(a,t,l):Ke(l,a,a,r,a.__e,t));return t}function re(e,t){return t=t||[],e==null||typeof e=="boolean"||(Array.isArray(e)?e.some(function(l){re(l,t)}):t.push(e)),t}function Ke(e,t,l,a,r,o){var c,i,f;if(t.__d!==void 0)c=t.__d,t.__d=void 0;else if(l==null||r!=o||r.parentNode==null)e:if(o==null||o.parentNode!==e)e.appendChild(r),c=null;else{for(i=o,f=0;(i=i.nextSibling)&&f<a.length;f+=1)if(i==r)break e;e.insertBefore(r,o),c=o}return c!==void 0?c:r.nextSibling}function Ze(e){var t,l,a;if(e.type==null||typeof e.type=="string")return e.__e;if(e.__k){for(t=e.__k.length-1;t>=0;t--)if((l=e.__k[t])&&(a=Ze(l)))return a}return null}function st(e,t,l,a,r){var o;for(o in l)o==="children"||o==="key"||o in t||se(e,o,null,l[o],a);for(o in t)r&&typeof t[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||l[o]===t[o]||se(e,o,t[o],l[o],a)}function ye(e,t,l){t[0]==="-"?e.setProperty(t,l??""):e[t]=l==null?"":typeof l!="number"||rt.test(t)?l:l+"px"}function se(e,t,l,a,r){var o;e:if(t==="style")if(typeof l=="string")e.style.cssText=l;else{if(typeof a=="string"&&(e.style.cssText=a=""),a)for(t in a)l&&t in l||ye(e.style,t,"");if(l)for(t in l)a&&l[t]===a[t]||ye(e.style,t,l[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=l,l?a||e.addEventListener(t,o?be:xe,o):e.removeEventListener(t,o?be:xe,o);else if(t!=="dangerouslySetInnerHTML"){if(r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=l??"";break e}catch{}typeof l=="function"||(l==null||l===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,l))}}function xe(e){return this.l[e.type+!1](w.event?w.event(e):e)}function be(e){return this.l[e.type+!0](w.event?w.event(e):e)}function ge(e,t,l,a,r,o,c,i,f){var p,s,_,u,d,m,h,v,g,y,N,x,A,D,P,$=t.type;if(t.constructor!==void 0)return null;l.__h!=null&&(f=l.__h,i=t.__e=l.__e,t.__h=null,o=[i]),(p=w.__b)&&p(t);try{e:if(typeof $=="function"){if(v=t.props,g=(p=$.contextType)&&a[p.__c],y=p?g?g.props.value:p.__:a,l.__c?h=(s=t.__c=l.__c).__=s.__E:("prototype"in $&&$.prototype.render?t.__c=s=new $(v,y):(t.__c=s=new F(v,y),s.constructor=$,s.render=ct),g&&g.sub(s),s.props=v,s.state||(s.state={}),s.context=y,s.__n=a,_=s.__d=!0,s.__h=[],s._sb=[]),s.__s==null&&(s.__s=s.state),$.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=V({},s.__s)),V(s.__s,$.getDerivedStateFromProps(v,s.__s))),u=s.props,d=s.state,s.__v=t,_)$.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if($.getDerivedStateFromProps==null&&v!==u&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(v,y),!s.__e&&s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(v,s.__s,y)===!1||t.__v===l.__v){for(t.__v!==l.__v&&(s.props=v,s.state=s.__s,s.__d=!1),s.__e=!1,t.__e=l.__e,t.__k=l.__k,t.__k.forEach(function(M){M&&(M.__=t)}),N=0;N<s._sb.length;N++)s.__h.push(s._sb[N]);s._sb=[],s.__h.length&&c.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(v,s.__s,y),s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(u,d,m)})}if(s.context=y,s.props=v,s.__P=e,x=w.__r,A=0,"prototype"in $&&$.prototype.render){for(s.state=s.__s,s.__d=!1,x&&x(t),p=s.render(s.props,s.state,s.context),D=0;D<s._sb.length;D++)s.__h.push(s._sb[D]);s._sb=[]}else do s.__d=!1,x&&x(t),p=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++A<25);s.state=s.__s,s.getChildContext!=null&&(a=V(V({},a),s.getChildContext())),_||s.getSnapshotBeforeUpdate==null||(m=s.getSnapshotBeforeUpdate(u,d)),P=p!=null&&p.type===U&&p.key==null?p.props.children:p,qe(e,Array.isArray(P)?P:[P],t,l,a,r,o,c,i,f),s.base=t.__e,t.__h=null,s.__h.length&&c.push(s),h&&(s.__E=s.__=null),s.__e=!1}else o==null&&t.__v===l.__v?(t.__k=l.__k,t.__e=l.__e):t.__e=it(l.__e,t,l,a,r,o,c,f);(p=w.diffed)&&p(t)}catch(M){t.__v=null,(f||o!=null)&&(t.__e=i,t.__h=!!f,o[o.indexOf(i)]=null),w.__e(M,t,l)}}function Ye(e,t){w.__c&&w.__c(t,e),e.some(function(l){try{e=l.__h,l.__h=[],e.some(function(a){a.call(l)})}catch(a){w.__e(a,l.__v)}})}function it(e,t,l,a,r,o,c,i){var f,p,s,_=l.props,u=t.props,d=t.type,m=0;if(d==="svg"&&(r=!0),o!=null){for(;m<o.length;m++)if((f=o[m])&&"setAttribute"in f==!!d&&(d?f.localName===d:f.nodeType===3)){e=f,o[m]=null;break}}if(e==null){if(d===null)return document.createTextNode(u);e=r?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,u.is&&u),o=null,i=!1}if(d===null)_===u||i&&e.data===u||(e.data=u);else{if(o=o&&ie.call(e.childNodes),p=(_=l.props||oe).dangerouslySetInnerHTML,s=u.dangerouslySetInnerHTML,!i){if(o!=null)for(_={},m=0;m<e.attributes.length;m++)_[e.attributes[m].name]=e.attributes[m].value;(s||p)&&(s&&(p&&s.__html==p.__html||s.__html===e.innerHTML)||(e.innerHTML=s&&s.__html||""))}if(st(e,u,_,r,i),s)t.__k=[];else if(m=t.props.children,qe(e,Array.isArray(m)?m:[m],t,l,a,r&&d!=="foreignObject",o,c,o?o[0]:l.__k&&K(l,0),i),o!=null)for(m=o.length;m--;)o[m]!=null&&Re(o[m]);i||("value"in u&&(m=u.value)!==void 0&&(m!==e.value||d==="progress"&&!m||d==="option"&&m!==_.value)&&se(e,"value",m,_.value,!1),"checked"in u&&(m=u.checked)!==void 0&&m!==e.checked&&se(e,"checked",m,_.checked,!1))}return e}function Qe(e,t,l){try{typeof e=="function"?e(t):e.current=t}catch(a){w.__e(a,l)}}function Xe(e,t,l){var a,r;if(w.unmount&&w.unmount(e),(a=e.ref)&&(a.current&&a.current!==e.__e||Qe(a,null,t)),(a=e.__c)!=null){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(o){w.__e(o,t)}a.base=a.__P=null,e.__c=void 0}if(a=e.__k)for(r=0;r<a.length;r++)a[r]&&Xe(a[r],t,l||typeof e.type!="function");l||e.__e==null||Re(e.__e),e.__=e.__e=e.__d=void 0}function ct(e,t,l){return this.constructor(e,l)}function dt(e,t,l){var a,r,o;w.__&&w.__(e,t),r=(a=typeof l=="function")?null:l&&l.__k||t.__k,o=[],ge(t,e=(!a&&l||t).__k=fe(U,null,[e]),r||oe,oe,t.ownerSVGElement!==void 0,!a&&l?[l]:r?null:t.firstChild?ie.call(t.childNodes):null,o,!a&&l?l:r?r.__e:t.firstChild,a),Ye(o,e)}function ut(e,t){var l={__c:t="__cC"+Ue++,__:e,Consumer:function(a,r){return a.children(r)},Provider:function(a){var r,o;return this.getChildContext||(r=[],(o={})[t]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(c){this.props.value!==c.value&&r.some(function(i){i.__e=!0,pe(i)})},this.sub=function(c){r.push(c);var i=c.componentWillUnmount;c.componentWillUnmount=function(){r.splice(r.indexOf(c),1),i&&i.call(c)}}),a.children}};return l.Provider.__=l.Consumer.contextType=l}ie=Oe.slice,w={__e:function(e,t,l,a){for(var r,o,c;t=t.__;)if((r=t.__c)&&!r.__)try{if((o=r.constructor)&&o.getDerivedStateFromError!=null&&(r.setState(o.getDerivedStateFromError(e)),c=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,a||{}),c=r.__d),c)return r.__E=r}catch(i){e=i}throw e}},Ve=0,F.prototype.setState=function(e,t){var l;l=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=V({},this.state),typeof e=="function"&&(e=e(V({},l),this.props)),e&&V(l,e),e!=null&&this.__v&&(t&&this._sb.push(t),pe(this))},F.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),pe(this))},F.prototype.render=U,z=[],ze=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,_e=function(e,t){return e.__v.__b-t.__v.__b},ae.__r=0,Ue=0;var ce,C,he,Ne,me=0,et=[],te=[],Ce=w.__b,Te=w.__r,$e=w.diffed,De=w.__c,Ae=w.unmount;function we(e,t){w.__h&&w.__h(C,e,me||t),me=0;var l=C.__H||(C.__H={__:[],__h:[]});return e>=l.__.length&&l.__.push({__V:te}),l.__[e]}function k(e){return me=1,ht(tt,e)}function ht(e,t,l){var a=we(ce++,2);if(a.t=e,!a.__c&&(a.__=[l?l(t):tt(void 0,t),function(i){var f=a.__N?a.__N[0]:a.__[0],p=a.t(f,i);f!==p&&(a.__N=[p,a.__[1]],a.__c.setState({}))}],a.__c=C,!C.u)){var r=function(i,f,p){if(!a.__c.__H)return!0;var s=a.__c.__H.__.filter(function(u){return u.__c});if(s.every(function(u){return!u.__N}))return!o||o.call(this,i,f,p);var _=!1;return s.forEach(function(u){if(u.__N){var d=u.__[0];u.__=u.__N,u.__N=void 0,d!==u.__[0]&&(_=!0)}}),!(!_&&a.__c.props===i)&&(!o||o.call(this,i,f,p))};C.u=!0;var o=C.shouldComponentUpdate,c=C.componentWillUpdate;C.componentWillUpdate=function(i,f,p){if(this.__e){var s=o;o=void 0,r(i,f,p),o=s}c&&c.call(this,i,f,p)},C.shouldComponentUpdate=r}return a.__N||a.__}function L(e,t){var l=we(ce++,3);!w.__s&&pt(l.__H,t)&&(l.__=e,l.i=t,C.__H.__h.push(l))}function j(e){var t=C.context[e.__c],l=we(ce++,9);return l.c=e,t?(l.__==null&&(l.__=!0,t.sub(C)),t.props.value):e.__}function _t(){for(var e;e=et.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ne),e.__H.__h.forEach(ve),e.__H.__h=[]}catch(t){e.__H.__h=[],w.__e(t,e.__v)}}w.__b=function(e){C=null,Ce&&Ce(e)},w.__r=function(e){Te&&Te(e),ce=0;var t=(C=e.__c).__H;t&&(he===C?(t.__h=[],C.__h=[],t.__.forEach(function(l){l.__N&&(l.__=l.__N),l.__V=te,l.__N=l.i=void 0})):(t.__h.forEach(ne),t.__h.forEach(ve),t.__h=[])),he=C},w.diffed=function(e){$e&&$e(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(et.push(t)!==1&&Ne===w.requestAnimationFrame||((Ne=w.requestAnimationFrame)||ft)(_t)),t.__H.__.forEach(function(l){l.i&&(l.__H=l.i),l.__V!==te&&(l.__=l.__V),l.i=void 0,l.__V=te})),he=C=null},w.__c=function(e,t){t.some(function(l){try{l.__h.forEach(ne),l.__h=l.__h.filter(function(a){return!a.__||ve(a)})}catch(a){t.some(function(r){r.__h&&(r.__h=[])}),t=[],w.__e(a,l.__v)}}),De&&De(e,t)},w.unmount=function(e){Ae&&Ae(e);var t,l=e.__c;l&&l.__H&&(l.__H.__.forEach(function(a){try{ne(a)}catch(r){t=r}}),l.__H=void 0,t&&w.__e(t,l.__v))};var Me=typeof requestAnimationFrame=="function";function ft(e){var t,l=function(){clearTimeout(a),Me&&cancelAnimationFrame(t),setTimeout(e)},a=setTimeout(l,100);Me&&(t=requestAnimationFrame(l))}function ne(e){var t=C,l=e.__c;typeof l=="function"&&(e.__c=void 0,l()),C=t}function ve(e){var t=C;e.__c=e.__(),C=t}function pt(e,t){return!e||e.length!==t.length||t.some(function(l,a){return l!==e[a]})}function tt(e,t){return typeof t=="function"?t(e):t}const T="http://localhost:8080";var mt=0;function n(e,t,l,a,r,o){var c,i,f={};for(i in t)i=="ref"?c=t[i]:f[i]=t[i];var p={type:e,props:f,key:l,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--mt,__source:r,__self:o};if(typeof e=="function"&&(c=e.defaultProps))for(i in c)f[i]===void 0&&(f[i]=c[i]);return w.vnode&&w.vnode(p),p}const E=ut({allWeddings:[],setAllWeddings:()=>{},wedding:null,setWedding:()=>{},showModal:!1,setShowModal:()=>{},user:null,agents:[],refetchData:()=>{},tasks:[],fetchTasks:()=>{}});function vt(e){const[t,l]=k([]),[a,r]=k(null),[o,c]=k(!1),[i,f]=k(null),[p,s]=k([]),[_,u]=k([]);async function d(){const N=await(await fetch(`${T}/api/v1/current_user`)).json();f(N)}L(()=>{d()},[]),L(()=>{i&&(console.log(i),m())},[i]);async function m(){if(i){const N=await(await fetch(`${T}/api/v1/weddings?agentId=${i._id}`)).json();l(N)}}async function h(){if(i){const N=await(await fetch(`${T}/api/v1/agents/${i._id}/tasks`)).json();u(N)}}L(()=>{h()},[i]);async function v(){const N=await(await fetch(`${T}/api/v1/agents`)).json();s(N)}L(()=>{v()},[]);const g={allWeddings:t,setAllWeddings:l,wedding:a,setWedding:r,showModal:o,setShowModal:c,user:i,agents:p,tasks:_,fetchTasks:h,refetchData:m};return n(E.Provider,{value:g,children:e.children})}function gt(e,t){for(var l in t)e[l]=t[l];return e}function Se(e,t){for(var l in e)if(l!=="__source"&&!(l in t))return!0;for(var a in t)if(a!=="__source"&&e[a]!==t[a])return!0;return!1}function Pe(e){this.props=e}(Pe.prototype=new F).isPureReactComponent=!0,Pe.prototype.shouldComponentUpdate=function(e,t){return Se(this.props,e)||Se(this.state,t)};var We=w.__b;w.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),We&&We(e)};var wt=w.__e;w.__e=function(e,t,l,a){if(e.then){for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return t.__e==null&&(t.__e=l.__e,t.__k=l.__k),r.__c(e,t)}wt(e,t,l,a)};var Ee=w.unmount;function nt(e,t,l){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(a){typeof a.__c=="function"&&a.__c()}),e.__c.__H=null),(e=gt({},e)).__c!=null&&(e.__c.__P===l&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(a){return nt(a,t,l)})),e}function lt(e,t,l){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(a){return lt(a,t,l)}),e.__c&&e.__c.__P===t&&(e.__e&&l.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=l)),e}function le(){this.__u=0,this.t=null,this.__b=null}function ot(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Q(){this.u=null,this.o=null}w.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&e.__h===!0&&(e.type=null),Ee&&Ee(e)},(le.prototype=new F).__c=function(e,t){var l=t.__c,a=this;a.t==null&&(a.t=[]),a.t.push(l);var r=ot(a.__v),o=!1,c=function(){o||(o=!0,l.__R=null,r?r(i):i())};l.__R=c;var i=function(){if(!--a.__u){if(a.state.__a){var p=a.state.__a;a.__v.__k[0]=lt(p,p.__c.__P,p.__c.__O)}var s;for(a.setState({__a:a.__b=null});s=a.t.pop();)s.forceUpdate()}},f=t.__h===!0;a.__u++||f||a.setState({__a:a.__b=a.__v.__k[0]}),e.then(c,c)},le.prototype.componentWillUnmount=function(){this.t=[]},le.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var l=document.createElement("div"),a=this.__v.__k[0].__c;this.__v.__k[0]=nt(this.__b,l,a.__O=a.__P)}this.__b=null}var r=t.__a&&fe(U,null,e.fallback);return r&&(r.__h=null),[fe(U,null,t.__a?null:e.children),r]};var He=function(e,t,l){if(++l[1]===l[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(l=e.u;l;){for(;l.length>3;)l.pop()();if(l[1]<l[0])break;e.u=l=l[2]}};(Q.prototype=new F).__a=function(e){var t=this,l=ot(t.__v),a=t.o.get(e);return a[0]++,function(r){var o=function(){t.props.revealOrder?(a.push(r),He(t,e,a)):r()};l?l(o):o()}},Q.prototype.render=function(e){this.u=null,this.o=new Map;var t=re(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var l=t.length;l--;)this.o.set(t[l],this.u=[1,0,this.u]);return e.children},Q.prototype.componentDidUpdate=Q.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,l){He(e,l,t)})};var kt=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,yt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,xt=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,bt=/[A-Z0-9]/g,Nt=typeof document<"u",Ct=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};F.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(F.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var Le=w.event;function Tt(){}function $t(){return this.cancelBubble}function Dt(){return this.defaultPrevented}w.event=function(e){return Le&&(e=Le(e)),e.persist=Tt,e.isPropagationStopped=$t,e.isDefaultPrevented=Dt,e.nativeEvent=e};var At={enumerable:!1,configurable:!0,get:function(){return this.class}},je=w.vnode;w.vnode=function(e){typeof e.type=="string"&&function(t){var l=t.props,a=t.type,r={};for(var o in l){var c=l[o];if(!(o==="value"&&"defaultValue"in l&&c==null||Nt&&o==="children"&&a==="noscript"||o==="class"||o==="className")){var i=o.toLowerCase();o==="defaultValue"&&"value"in l&&l.value==null?o="value":o==="download"&&c===!0?c="":i==="ondoubleclick"?o="ondblclick":i!=="onchange"||a!=="input"&&a!=="textarea"||Ct(l.type)?i==="onfocus"?o="onfocusin":i==="onblur"?o="onfocusout":xt.test(o)?o=i:a.indexOf("-")===-1&&yt.test(o)?o=o.replace(bt,"-$&").toLowerCase():c===null&&(c=void 0):i=o="oninput",i==="oninput"&&r[o=i]&&(o="oninputCapture"),r[o]=c}}a=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=re(l.children).forEach(function(f){f.props.selected=r.value.indexOf(f.props.value)!=-1})),a=="select"&&r.defaultValue!=null&&(r.value=re(l.children).forEach(function(f){f.props.selected=r.multiple?r.defaultValue.indexOf(f.props.value)!=-1:r.defaultValue==f.props.value})),l.class&&!l.className?(r.class=l.class,Object.defineProperty(r,"className",At)):(l.className&&!l.class||l.class&&l.className)&&(r.class=r.className=l.className),t.props=r}(e),e.$$typeof=kt,je&&je(e)};var Ie=w.__r;w.__r=function(e){Ie&&Ie(e),e.__c};var Be=w.diffed;w.diffed=function(e){Be&&Be(e);var t=e.props,l=e.__e;l!=null&&e.type==="textarea"&&"value"in t&&t.value!==l.value&&(l.value=t.value==null?"":t.value)};function Mt({name:e,imageLink:t,searchTerm:l,setSearchTerm:a}){const{user:r}=j(E);async function o(){try{const c=await fetch(`${T}/api/v1/logout`);if(c.ok){const i=await c.json();console.log("Succeesfully logged out"),window.location.href="/"}}catch(c){console.log(c)}}return L(()=>{console.log(r==null?void 0:r.photo)},[r]),n("div",{className:"navbar bg-base-100",children:[n("div",{className:"flex-1",children:n("a",{className:"btn btn-ghost normal-case text-xl",children:e.replace("_"," ")})}),n("div",{className:"flex-none gap-2",children:[n("div",{className:"form-control h-10 hidden sm:flex",children:n("input",{type:"text",placeholder:"Search",value:l,onInput:c=>{c.target instanceof HTMLInputElement&&a(c.target.value)},onBlur:()=>a(""),className:"input input-bordered"})}),n("div",{className:"dropdown dropdown-end",children:[n("label",{tabIndex:0,className:"btn btn-ghost btn-circle avatar",children:n("div",{className:"w-10 rounded-full border border-base-300",children:n("img",{src:r==null?void 0:r.photo,referrerpolicy:"no-referrer"})})}),n("ul",{tabIndex:0,className:"mt-3 p-2 shadow menu menu-compact dropdown-content bg-base-100 rounded-box w-52",children:[n("li",{children:n("a",{className:"justify-between",children:["Profile",n("span",{className:"badge",children:"New"})]})}),n("li",{children:n("a",{children:"Settings"})}),n("li",{onClick:o,children:n("a",{children:"Logout"})})]})]})]})]})}function St({setNavTarget:e}){return n("div",{className:"border-r border-base-200 hidden lg:block",children:n("div",{className:"drawer-side p-6",children:[n("label",{htmlFor:"my-drawer-2",className:"drawer-overlay"}),n(Pt,{}),n("hr",{className:" mb-6 h-px border-t-0 bg-transparent bg-gradient-to-r from-transparent via-base-200 to-transparent opacity-25 dark:opacity-100"}),n("ul",{className:"menu px-4 w-80 bg-base-100 text-base-content",children:[n(J,{setNavTarget:e,name:"Overview"}),n(J,{setNavTarget:e,name:"Weddings"}),n(J,{setNavTarget:e,name:"Tasks"}),n(J,{setNavTarget:e,name:"Payments"}),n(J,{setNavTarget:e,name:"Add Wedding"}),n(J,{setNavTarget:e,name:"Edit Wedding"})]})]})})}function J({name:e,setNavTarget:t}){return n("li",{onClick:()=>t(e.replace(" ","_")),children:n("h3",{children:e})})}function Pt(){return n("div",{className:"flex text-xs items-center space-x-4 mb-4",children:[n("div",{className:"h-14 w-14 rounded-full overflow-hidden border border-base-300",children:n("img",{src:"/img/BaliEveLogo.webp",alt:"Bali Eve Logo"})}),n("div",{children:[n("h1",{className:"font-bold",children:"Bali Eve Dashboard"}),n("p",{children:"Info@balieveplanner.com"})]})]})}function Wt(){return n("footer",{className:"footer items-center p-4 bg-neutral text-neutral-content",children:[n("div",{className:"items-center grid-flow-col",children:[n("svg",{width:"36",height:"36",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",className:"fill-current",children:n("path",{d:"M22.672 15.226l-2.432.811.841 2.515c.33 1.019-.209 2.127-1.23 2.456-1.15.325-2.148-.321-2.463-1.226l-.84-2.518-5.013 1.677.84 2.517c.391 1.203-.434 2.542-1.831 2.542-.88 0-1.601-.564-1.86-1.314l-.842-2.516-2.431.809c-1.135.328-2.145-.317-2.463-1.229-.329-1.018.211-2.127 1.231-2.456l2.432-.809-1.621-4.823-2.432.808c-1.355.384-2.558-.59-2.558-1.839 0-.817.509-1.582 1.327-1.846l2.433-.809-.842-2.515c-.33-1.02.211-2.129 1.232-2.458 1.02-.329 2.13.209 2.461 1.229l.842 2.515 5.011-1.677-.839-2.517c-.403-1.238.484-2.553 1.843-2.553.819 0 1.585.509 1.85 1.326l.841 2.517 2.431-.81c1.02-.33 2.131.211 2.461 1.229.332 1.018-.21 2.126-1.23 2.456l-2.433.809 1.622 4.823 2.433-.809c1.242-.401 2.557.484 2.557 1.838 0 .819-.51 1.583-1.328 1.847m-8.992-6.428l-5.01 1.675 1.619 4.828 5.011-1.674-1.62-4.829z"})}),n("p",{children:"Copyright Â© 2023 Bali Eve Planner - All right reserved"})]}),n("div",{className:"grid-flow-col gap-4 md:place-self-center md:justify-self-end",children:[n("a",{children:n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:n("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),n("a",{children:n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:n("path",{d:"M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"})})}),n("a",{children:n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:n("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})})})]})]})}function Et(){const[e,t]=k(""),[l,a]=k(""),[r,o]=k(0),[c,i]=k(""),[f,p]=k(""),[s,_]=k(""),[u,d]=k(0),[m,h]=k(""),[v,g]=k(""),[y,N]=k(""),[x,A]=k(""),[D,P]=k(""),[$,M]=k(""),{refetchData:O,agents:H}=j(E);async function de(){var Z;const b=(Z=H.find(R=>R.displayName===e))==null?void 0:Z._id;console.log(b);const ue={agent:e,agentId:b,name:l,budget:r,email:c,date:f,venue:s,guests:u,foodAndBeverage:m,decoration:v,production:y,videographer:x,photographer:D,vendorProgress:$};try{const R=`${T}/api/v1/weddings`,Y=await fetch(R,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ue)});if(Y.ok){const Yt=await Y.json();console.log("Wedding Saved"),O()}t(""),a(""),o(0),i(""),p(""),_(""),d(0),h(""),g(""),N(""),A(""),P(""),M("")}catch(R){console.log(R)}}function S(b,ue){const Z=b.target,{name:R,value:Y}=Z;ue(Y)}return r.toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}),n("div",{className:"flex gap-6 h-full w-full space-y-4  overflow-y-scroll scrollbar-none",children:[n("div",{className:"bg-base-100 space-y-4 h-fit p-6 flex-1 mx-auto rounded",children:[n("p",{className:"text-xs ",children:"Agent:"}),n("select",{defaultValue:"Agent1",name:"agent",value:e,onChange:b=>S(b,t),className:"focus:outline-none text-sm w-full px-2 py-1",placeholder:"Select Agent",children:H&&H.map(b=>n("option",{value:b.displayName,children:b.displayName},b._id))}),n(W,{label:"Name",type:"text",placeholder:"Wedding Name",onChange:b=>S(b,a)}),n(W,{label:"Email",type:"email",placeholder:"Email",onChange:b=>S(b,i)}),n(W,{label:"Budget",type:"number",placeholder:"Budget",onChange:b=>S(b,o)}),n(W,{label:"Date",type:"date",placeholder:"Date",onChange:b=>S(b,p)}),n(W,{label:"venue",type:"text",placeholder:"Venue",onChange:b=>S(b,_)}),n(W,{label:"Guests",type:"number",placeholder:"Guests",onChange:b=>S(b,d)}),n(W,{label:"Food and Beverage",type:"text",placeholder:"Food and Beverage",onChange:b=>S(b,h)}),n(W,{label:"Decoration",type:"text",placeholder:"Decoration",onChange:b=>S(b,g)}),n(W,{label:"Production",type:"text",placeholder:"Production",onChange:b=>S(b,N)}),n(W,{label:"Videographer",type:"text",placeholder:"Videographer",onChange:b=>S(b,A)}),n(W,{label:"Photographer",type:"text",placeholder:"Photographer",onChange:b=>S(b,P)}),n("div",{className:"text-sm w-full flex justify-end",children:n("button",{onClick:de,className:"bg-success/80 text-neutral rounded px-2 py-1 mt-10",children:"Add Wedding"})})]}),n("div",{className:"flex-1",children:n("h1",{children:"I am an information section"})})]})}function W({label:e,type:t,placeholder:l,value:a,onChange:r}){return n(U,{children:[n("p",{className:"text-xs",children:[e,":"]}),n("input",{type:t,className:"w-full px-2 py-1 rounded placeholder:text-neutral-content/50 focus:outline-none focus:border-b focus:border-blue-600 text-sm",placeholder:l,value:a,onChange:r})]})}function Ht(e){return[...e].sort((l,a)=>new Date(l.date).getTime()-new Date(a.date).getTime()).filter((l,a)=>a<3)}function X({statistic:e,label:t,thisWeek:l}){return n("div",{className:"flex rounded items-center bg-base-100",children:n("div",{className:"flex-1 p-6 flex gap-4",children:[n("div",{children:n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-8 h-8",children:[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 6a7.5 7.5 0 107.5 7.5h-7.5V6z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 10.5H21A7.5 7.5 0 0013.5 3v7.5z"})]})}),n("div",{className:"flex flex-col gap-4",children:[n("h2",{className:"font-semibold text-lg",children:t}),n("h1",{className:`text-2xl font-semibold ${e>0&&t.toLowerCase()==="overdue"||e<0&&t.toLowerCase()!=="overdue"?"text-error/80":"text-success/80"}`,children:e}),n("div",{className:"flex items-center space-x-2",children:[e>0?n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:`w-4 h-4 ${e>0&&t.toLowerCase()==="overdue"||e<0&&t.toLowerCase()!=="overdue"?"text-error/80":"text-success/80"}`,children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941"})}):n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:`w-4 h-4 ${e>0&&t.toLowerCase()==="overdue"||e<0&&t.toLowerCase()!=="overdue"?"text-error/80":"text-success/80"}`,children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6L9 12.75l4.286-4.286a11.948 11.948 0 014.306 6.43l.776 2.898m0 0l3.182-5.511m-3.182 5.51l-5.511-3.181"})})," ",n("h3",{className:" text-xs",children:[l," this week"]})]})]})]})})}function G(e){if(!e||isNaN(new Date(e).getTime()))return"";const t={weekday:"long",day:"numeric",month:"long",year:"numeric"};return new Intl.DateTimeFormat("en-US",t).format(new Date(e))}function Fe(e){const t=new Date(e),l=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${l}-${a}-${r}`}function Lt({wedding:e}){return n("div",{id:e._id,className:"col-span-2 bg-base-100 p-6 rounded space-y-2",children:[n("p",{children:[n("span",{className:"font-bold",children:"Wedding of: "}),e.name]}),n("p",{children:[n("span",{className:"font-bold",children:"Date: "}),G(e.date)]}),n("p",{children:[n("span",{className:"font-bold",children:"Email: "}),e.email]}),n("p",{children:[n("span",{className:"font-bold",children:"Guests: "}),e.guests]}),n("p",{children:[n("span",{className:"font-bold",children:"Venue: "}),e.venue]}),n("p",{children:[n("span",{className:"font-bold",children:"Photographer: "}),e.photographer]}),n("p",{children:[n("span",{className:"font-bold",children:"Videographer: "}),e.videographer]}),n("p",{children:[n("span",{className:"font-bold",children:"F & B: "}),e.foodAndBeverage]}),n("p",{children:[n("span",{className:"font-bold",children:"Vendor Progress: "}),e.vendorProgress]})]})}function jt(){const{allWeddings:e,setAllWeddings:t}=j(E);k();const[l,a]=k(0),[r,o]=k(0),[c,i]=k(0),[f,p]=k(0),[s,_]=k(0),[u,d]=k(0);return k(0),k(0),L(()=>{if(e){const m=new Date;m.setDate(m.getDate()-7),a(e.map(h=>h.checklist.map(v=>v.tasks.filter(g=>!g.completed).length)).flat().reduce((h,v)=>h+v,0)),o(e.map(h=>h.checklist.map(v=>v.tasks.filter(g=>!g.completed&&new Date(g.createdAt)>m).length)).flat().reduce((h,v)=>h+v,0)),i(e.map(h=>h.checklist.flatMap(v=>v.tasks.filter(g=>g.completed))).flat().length),p(e.map(h=>h.checklist.flatMap(v=>v.tasks.filter(g=>g.completed&&g.completedAt&&new Date(g.completedAt)>m))).flat().length),_(e.map(h=>h.checklist.flatMap(v=>v.tasks.filter(g=>!g.completed&&g.deadline&&new Date(g.deadline)<new Date))).flat().length),d(e.map(h=>h.checklist.flatMap(v=>v.tasks.filter(g=>!g.completed&&g.deadline&&new Date(g.deadline)<new Date&&new Date(g.deadline)>m))).flat().length)}},[e]),n("div",{className:"h-full w-full space-y-6",children:[n("div",{className:"grid grid-rows-4 grid-cols-1 md:grid-rows-2 md:grid-cols-2 xl:grid-rows-1 xl:grid-cols-4 gap-6 h-fit",children:[n(X,{label:"Current Tasks",statistic:l,thisWeek:r}),n(X,{label:"Completed",statistic:c,thisWeek:f}),n(X,{label:"Overdue",statistic:s,thisWeek:u}),n(X,{label:"Invoices",statistic:"7"})]}),n("hr",{className:"my-12 h-px border-t-0 bg-transparent bg-gradient-to-r from-transparent via-base-100 to-transparent opacity-25 dark:opacity-100"}),n("div",{className:"grid grid-cols-6 gap-6",children:Ht(e).map(m=>n(Lt,{wedding:m}))}),n("hr",{className:"my-12 h-px border-t-0 bg-transparent bg-gradient-to-r from-transparent via-base-100 to-transparent opacity-25 dark:opacity-100"})]})}function It(){return n("div",{children:n("h1",{children:"Hello From the PaymentTimeline Component"})})}async function Bt(e){if(!e)return;const t=`${T}/api/v1/weddings/${e._id}`;try{const l=await fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);return console.log("Wedding updated successfully"),l.json()}catch(l){console.error("Error updating wedding:",l)}}function I(e){const[t,l]=k(!1);function a(r){r.target.value!==""&&e.updateField(e.fieldName,r.target.value),l(!1)}return t?n("div",{className:`${e.forceFull?"w-full":""}`,children:n("input",{className:"w-full flex-1 focus:outline-none focus:border-b focus:border-blue-600",size:40,type:e.fieldType,value:e.value,onBlur:a,onKeyPress:async r=>{r.key==="Enter"&&r.currentTarget.blur()}})}):n("div",{className:e.forceFull?"w-full":"",children:n("p",{onClick:()=>l(!0),className:`${e.isBold?"font-semibold":""} w-full whitespace-nowrap`,children:e.value})})}function at(e){return n("div",{className:"w-full bg-base-300 rounded-full h-2 overflow-hidden",children:n("div",{className:`${e.value===100?"bg-success/80":"bg-info/80"} h-full transition-all duration-700`,style:{width:`${e.value}%`}})})}function Ft(e){const[t,l]=k(!1),[a,r]=k(!1),[o,c]=k(e.tasks.agent),[i,f]=k(e.tasks.deadline),[p,s]=k(e.tasks.task),{wedding:_,setWedding:u,allWeddings:d,setAllWeddings:m,refetchData:h,agents:v,fetchTasks:g}=j(E);async function y(x,A){if(!_)return;const D=_.checklist[x].tasks[A],P={...D,completed:!D.completed,completedAt:D.completed?null:new Date},$=`${T}/api/v1/weddings/${_._id}/checklist/${_.checklist[x]._id}/tasks/${e.tasks._id}`;try{const M=await fetch($,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});if(M.ok){const O=await M.json();console.log("checklist completed updated successfully"),u(O),g(),h()}}catch(M){console.log(M)}}async function N(x,A){var O;if(!_)return;const D=(O=v.find(H=>H.displayName===o))==null?void 0:O._id,$={..._.checklist[x].tasks[A],task:p,agent:o,agentId:D,deadline:i},M=`${T}/api/v1/weddings/${_._id}/checklist/${_.checklist[x]._id}/tasks/${e.tasks._id}`;try{const H=await fetch(M,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify($)});if(H.ok){const de=await H.json();console.log("checklist Taskname updated successfully"),u(de),g(),h(),r(!1)}}catch(H){console.log(H)}}return n("div",{id:e.tasks._id,className:"space-y-2 flex-1 ml-9",children:n("div",{className:"flex space-x-4 text-sm items-center",children:[n("input",{className:" h-3 w-3 text-info checked:bg-warning",type:"checkbox",name:e.tasks.task,id:e.tasks.task._id,checked:e.tasks.completed,onClick:x=>{y(e.checklistIndex,e.taskIndex),x.target.checked,e.tasks.task}}),t?n("div",{className:"w-full space-y-2 mr-4 mb-2",children:[n("h3",{className:"text-xs",children:"Task:"}),n("input",{type:"text",value:p,className:" flex-1 text-sm px-1 w-full focus:outline-none focus:border-b focus:border-blue-600",onChange:x=>{x.target instanceof HTMLInputElement&&s(x.target.value)}}),n("div",{className:"w-full flex gap-2",children:[n("div",{className:"flex-1 space-y-2",children:[n("h3",{className:"text-xs",children:"Assign Planner:"}),n("select",{value:o,onChange:x=>c(x.target instanceof HTMLSelectElement?x.target.value:""),className:"w-full focus:outline-none focus:border-b focus:border-blue-600",name:"planner",id:"plannerSelect",children:v&&v.map(x=>n("option",{value:x.displayName,children:x.displayName},x._id))})]}),n("div",{className:"flex-1 space-y-2",children:[n("h3",{className:"text-xs",children:"Deadline:"}),n("input",{className:"w-full text-xs p-[0.5px] focus:outline-none focus:border-b focus:border-blue-600",type:"date",placeholder:"Deadline",value:Fe(i||new Date),onChange:x=>f(x.target instanceof HTMLInputElement?x.target.value:"")})]})]}),n("div",{className:"pt-2 flex-1 flex justify-end gap-3 text-xs text-neutral",children:[n("button",{onClick:()=>{N(e.checklistIndex,e.taskIndex),l(!1)},className:"bg-success/80 px-2 py-1 rounded",children:"Save"}),n("button",{onClick:()=>{e.deleteChecklistItem},className:"bg-error/80 px-2 py-1 rounded",children:"Delete"})]})]}):n("div",{className:"flex flex-1 justify-between items-center",children:[n("label",{htmlFor:e.tasks.task,className:"flex-1 mr-auto w-full",onClick:()=>l(!0),onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:e.tasks.task}),a&&n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})})]})]})})}function Vt(e){k(!1);const[t,l]=k(0),{wedding:a,setWedding:r,refetchData:o,fetchTasks:c}=j(E);L(()=>{const _=e.task.tasks.filter(m=>m.completed).length,u=e.task.tasks.length,d=u>0?_/u*100:0;l(parseFloat(d.toFixed(0)))},[e.task]);async function i(_,u){if(!a)return;const d=`${T}/api/v1/weddings/${a._id}/checklist/${e.task._id}`;try{const m=await fetch(d,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({[_]:u})});if(m.ok){const h=await m.json();console.log("Checklist container updated"),r(h),o()}else console.log("Failed to update checklist container")}catch(m){console.log(m)}}async function f(_){if(a){const u=`${T}/api/v1/weddings/${a._id}/checklist/${e.task._id}/tasks`;try{const d=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({createdAt:new Date,completedAt:null,completed:!1,task:"Name of task"})});if(d.ok){const m=await d.json();console.log("checklist item added successfully"),r(m),o()}}catch(d){console.log(d)}}}async function p(_){if(!a)return;const u=`${T}/api/v1/weddings/${a._id}/checklist/${e.task._id}/tasks/${e.task.tasks[_]._id}`;try{const d=await fetch(u,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(d.ok){console.log("Task Deleted");const m=await d.json();r(m),c(),o()}else console.log("Failed to delete task")}catch(d){console.log(d)}}async function s(){if(!a)return;const _=`${T}/api/v1/weddings/${a._id}/checklist/${e.task._id}`;try{const u=await fetch(_,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(u.ok){const d=await u.json();console.log("Checklist container deleted"),r(d),o()}else console.log("Failed to delete checklist container")}catch(u){console.log(u)}}return n("div",{id:e.task._id,className:"space-y-2",children:[n("div",{className:"flex space-x-4 items-center",children:[n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0118 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3l1.5 1.5 3-3.75"})}),n("div",{className:"flex justify-between w-full",children:[n("div",{className:"flex space-x-1",children:[n(I,{value:e.task.type,fieldType:"text",fieldName:"type",updateField:i,isBold:!0}),":"," ",n(I,{value:e.task.vendor,fieldType:"text",fieldName:"vendor",updateField:i,forceFull:!0})]}),n("div",{className:"flex space-x-2 flex-shrink-0 flex-grow-0",children:[n("button",{className:"bg-base-300 px-2 py-1 rounded text-xs",children:"Hide Checked Items"}),n("button",{onClick:s,className:"bg-error/80 text-neutral px-2 py-1 rounded text-xs",children:"Delete"})]})]})]}),n("div",{className:"flex space-x-2 items-center",children:[n("p",{id:e.task._id,className:"text-xs",children:[t,"%"]}),n(at,{value:t})]}),e.task.tasks.map((_,u)=>n("div",{className:"flex justify-between gap-4",children:n(Ft,{refetchWedding:e.refetchWedding,tasks:_,checklistIndex:e.checklistIndex,taskIndex:u,deleteChecklistItem:()=>p(u)},_._id)})),n("div",{className:"pt-4",children:n("button",{onClick:f,className:"bg-success/80 text-base-100 text-xs px-2 py-1 rounded ml-9",children:"Add Task"})})]})}function zt(e){const[t,l]=k(!1),{allWeddings:a,setAllWeddings:r,wedding:o,setWedding:c,showModal:i,setShowModal:f,refetchData:p,agents:s}=j(E);k(o==null?void 0:o.agent),L(()=>{r(a)},[a]);async function _(h,v){if(!o)return;const g=`${T}/api/v1/weddings/${o._id}`;let y={[h]:v};if(h==="agent"){const N=s.find(x=>x.displayName===v);y={...y,agentId:N==null?void 0:N._id}}try{const N=await fetch(g,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(N.ok){const x=await N.json();console.log("Wedding Field Updated Successfully"),console.log(x),c(x),p()}}catch(N){console.log(N)}}async function u(){if(!o)return;const h=`${T}/api/v1/weddings/${o._id}/checklist`;try{const v=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"Type",vendor:"Vendor"})});if(v.ok){const g=await v.json();console.log("Checklist container added"),c(g),p()}else console.log("Failed to add checklist container")}catch(v){console.log(v)}}function d(h){(h==null?void 0:h.target.id)==="background"&&(Bt(o),e.setShowModal(!i))}async function m(){if(window.confirm("Are you sure you want to delete?"))try{const h=`${T}/api/v1/weddings/${o==null?void 0:o._id}`,g=await(await fetch(h,{method:"DELETE",headers:{"Content-Type":"application/json"}})).json();console.log("Wedding Successfull Deleted"),p(),e.setShowModal(!i)}catch(h){console.log(h)}}return n("div",{children:n("div",{id:"background",onClick:d,className:"absolute w-full top-0 left-0 h-full bg-gray-500/60 flex justify-center items-center",children:n("div",{className:"h-[90%] w-[900px] bg-base-100 rounded shadow-lg flex",children:[n("div",{className:"h-full w-full p-6 overflow-y-scroll space-y-10 flex-1 scrollbar-none",children:[n("div",{className:"flex space-x-4 items-center",children:[n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5 mt-1",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),n("div",{className:"w-full",children:[n(I,{value:o==null?void 0:o.name,fieldName:"name",fieldType:"text",updateField:_,isBold:!0}),n(I,{value:o==null?void 0:o.email,fieldName:"email",fieldType:"email",updateField:_}),n(I,{value:o!=null&&o.date?G(o.date):"",fieldName:"date",fieldType:"date",updateField:_})]})]}),n("div",{children:n("h2",{className:"font-semibold text-sm",children:"Notifications:"})}),n("div",{className:"flex space-x-4",children:[n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),n("div",{className:"text-sm space-y-2 w-full",children:[n("div",{className:"flex space-x-4 w-full",children:n("h2",{className:"font-semibold text-base",children:"Description:"})}),n("div",{className:"space-y-2 w-full",children:[n("div",{className:"flex space-x-2 w-full",children:[n("h2",{className:"font-semibold",children:"Budget: "}),n(I,{value:(o==null?void 0:o.budget)||0,fieldName:"budget",fieldType:"number",updateField:_,forceFull:!0})]}),n("div",{className:"flex space-x-2 w-full",children:[n("h2",{className:"font-semibold",children:"Venue: "}),n(I,{value:o==null?void 0:o.venue,fieldName:"venue",fieldType:"text",updateField:_,forceFull:!0})]}),n("div",{className:"flex space-x-2 w-full",children:[n("h2",{className:"font-semibold",children:"Guests: "}),n(I,{value:o==null?void 0:o.guests,fieldName:"guests",fieldType:"number",updateField:_,forceFull:!0})]})]})]})]}),n("div",{className:"flex space-x-4",children:[n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18.375 12.739l-7.693 7.693a4.5 4.5 0 01-6.364-6.364l10.94-10.94A3 3 0 1119.5 7.372L8.552 18.32m.009-.01l-.01.01m5.699-9.941l-7.81 7.81a1.5 1.5 0 002.112 2.13"})}),n("h1",{className:"font-semibold",children:"Attachments: "})]}),o==null?void 0:o.checklist.map((h,v)=>n("div",{children:n(Vt,{refetchWedding:e.refetchWedding,task:h,checklistIndex:v})},h._id)),n("button",{onClick:u,className:"text-xs bg-success/80 text-neutral px-2 py-1 rounded",children:"Add Checklist"})]}),n("div",{className:"w-[25%] p-6 space-y-4",children:n("div",{className:"space-y-4",children:[n("div",{className:" flex justify-between items-center text-sm font-semibold",children:[n("h3",{children:"Suggested"}),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5",children:[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})]}),n("button",{className:"bg-base-300 px-2 py-1 rounded text-sm w-full text-left flex space-x-1 items-center",children:[n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-4 h-4",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),n("p",{children:"Join"})]}),n("div",{className:"text-sm space-y-2",children:[n("h2",{className:"font-semibold",children:"Additional Info"}),(o==null?void 0:o.createdAt)&&n("div",{children:[n("p",{className:"font-semibold",children:"Created: "}),n("p",{children:G(o.createdAt)})]})]}),n("div",{className:"text-sm",children:[n("h1",{className:"font-semibold",children:"Planner:"}),t?n("select",{name:"agent",value:o==null?void 0:o.agent,onChange:h=>{h.target instanceof HTMLSelectElement&&_("agent",h.target.value)},className:"focus:outline-none text-sm w-full",children:s.map(h=>n("option",{value:h.displayName,children:h.displayName},h._id))}):n("p",{onClick:()=>l(!t),children:o==null?void 0:o.agent})]}),n("button",{onClick:m,className:"bg-error/80 text-neutral px-2 py-1 rounded text-xs",children:"Delete"})]})})]})})})}function Ut({searchTerm:e,setSearchTerm:t}){const{allWeddings:l,setAllWeddings:a,wedding:r,setWedding:o,showModal:c,setShowModal:i,agents:f,user:p}=j(E),[s,_]=k("date"),[u,d]=k(!0),[m,h]=k("");async function v(y){var x;i(!c);const N=y.target;if(N instanceof Element){const A=(x=N.closest(".weddingContainer"))==null?void 0:x.id;A&&h(A);const D=`${T}/api/v1/weddings/${A}`,$=await(await fetch(D)).json();o($),t("")}}async function g(){const y=`${T}/api/v1/weddings/${m}`,x=await(await fetch(y)).json();o(x)}return n("section",{className:"flex flex-col h-full",children:[n("div",{className:"grid grid-cols-5 text-sm font-bold border-b border-base-300 mb-4 p-6",children:[n(B,{sortBy:s,setSortBy:_,asc:u,setAsc:d,fieldName:"name",label:"Wedding",iconSvg:n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})})}),n(B,{sortBy:s,setSortBy:_,asc:u,setAsc:d,fieldName:"email",label:"Email",iconSvg:n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 9v.906a2.25 2.25 0 01-1.183 1.981l-6.478 3.488M2.25 9v.906a2.25 2.25 0 001.183 1.981l6.478 3.488m8.839 2.51l-4.66-2.51m0 0l-1.023-.55a2.25 2.25 0 00-2.134 0l-1.022.55m0 0l-4.661 2.51m16.5 1.615a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V8.844a2.25 2.25 0 011.183-1.98l7.5-4.04a2.25 2.25 0 012.134 0l7.5 4.04a2.25 2.25 0 011.183 1.98V19.5z"})})}),n(B,{sortBy:s,setSortBy:_,asc:u,setAsc:d,fieldName:"date",label:"Date",iconSvg:n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"})})}),n(B,{sortBy:s,setSortBy:_,asc:u,setAsc:d,fieldName:"agent",label:"Planner",iconSvg:n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12.75 3.03v.568c0 .334.148.65.405.864l1.068.89c.442.369.535 1.01.216 1.49l-.51.766a2.25 2.25 0 01-1.161.886l-.143.048a1.107 1.107 0 00-.57 1.664c.369.555.169 1.307-.427 1.605L9 13.125l.423 1.059a.956.956 0 01-1.652.928l-.679-.906a1.125 1.125 0 00-1.906.172L4.5 15.75l-.612.153M12.75 3.031a9 9 0 00-8.862 12.872M12.75 3.031a9 9 0 016.69 14.036m0 0l-.177-.529A2.25 2.25 0 0017.128 15H16.5l-.324-.324a1.453 1.453 0 00-2.328.377l-.036.073a1.586 1.586 0 01-.982.816l-.99.282c-.55.157-.894.702-.8 1.267l.073.438c.08.474.49.821.97.821.846 0 1.598.542 1.865 1.345l.215.643m5.276-3.67a9.012 9.012 0 01-5.276 3.67m0 0a9 9 0 01-10.275-4.835M15.75 9c0 .896-.393 1.7-1.016 2.25"})})}),n(B,{sortBy:s,setSortBy:_,asc:u,setAsc:d,fieldName:"progress",label:"Progress",iconSvg:n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"})})})]}),n("div",{className:"flex-1 overflow-y-scroll scrollbar-none",children:[l&&Ot(l,s,u).filter(y=>e?y.name.toLowerCase().includes(e.toLowerCase())||y.email.toLowerCase().includes(e.toLowerCase()):!0).map(y=>n("div",{children:[n("div",{onClick:v,id:y._id,className:"weddingContainer space-y-4 bg-base-100 rounded text-sm",children:n("div",{className:"grid grid-cols-5 p-6 font-semibold",children:[n("h1",{children:y.name}),n("a",{children:y.email}),n("h1",{children:G(y.date)}),n("h1",{children:y.agent}),n("div",{className:" flex items-center space-x-4",children:[n(at,{value:q(y)}),n("p",{className:"text-sm",children:`${q(y)}%`})]})]})}),n("hr",{className:"my-4 h-px border-t-0 bg-transparent bg-gradient-to-r from-transparent via-base-100 to-transparent opacity-25 dark:opacity-100"})]})),c&&n(zt,{setShowModal:i,showModal:c,wedding:r,refetchWedding:g})]})]})}function Ot(e,t,l){return e.sort((a,r)=>{switch(t){case"date":return l?new Date(a.date).getTime()-new Date(r.date).getTime():new Date(r.date).getTime()-new Date(a.date).getTime();case"name":return l?a.name.localeCompare(r.name):r.name.localeCompare(a.name);case"email":return l?a.email.localeCompare(r.email):r.email.localeCompare(a.email);case"agent":return l?a.agent.localeCompare(r.agent):r.agent.localeCompare(a.agent);case"progress":return l?q(a)-q(r):q(r)-q(a);default:return l?new Date(a.date).getTime()-new Date(r.date).getTime():new Date(r.date).getTime()-new Date(a.date).getTime()}})}function q(e){const t=e.checklist.map(r=>r.tasks);let l=[];return t.forEach(r=>{r.forEach(o=>{l=[...l,o]})}),+(l.filter(r=>r.completed).length/l.length*100).toFixed(0)||0}function B({sortBy:e,setSortBy:t,asc:l,setAsc:a,fieldName:r,label:o,iconSvg:c}){return n("div",{onClick:()=>{a(e===r?!l:!0),t(r)},className:"flex items-center space-x-2",children:[c,n("h2",{children:o}),e===r?n("button",{className:`${e===r?"bg-accent-focus text-neutral rounded":""}`,children:l?n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-4 h-4",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})}):n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-4 h-4",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})}):n("button",{className:`${e===r?"bg-accent-focus text-neutral rounded":""}`,children:n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-4 h-4",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"})})})]})}function Rt({searchTerm:e,setSearchTerm:t}){const{tasks:l,fetchTasks:a,user:r}=j(E),[o,c]=k("deadline"),[i,f]=k(!0);return L(()=>{a()},[]),n("section",{className:"flex flex-col h-full",children:[n("div",{className:"grid grid-cols-4 text-sm font-bold border-b border-base-300 mb-4 p-6",children:[n(B,{sortBy:o,setSortBy:c,asc:i,setAsc:f,fieldName:"name",label:"Wedding",iconSvg:n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})})}),n(B,{sortBy:o,setSortBy:c,asc:i,setAsc:f,fieldName:"date",label:"Date",iconSvg:n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"})})}),n(B,{sortBy:o,setSortBy:c,asc:i,setAsc:f,fieldName:"task",label:"Todo",iconSvg:n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0118 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3l1.5 1.5 3-3.75"})})}),n(B,{sortBy:o,setSortBy:c,asc:i,setAsc:f,fieldName:"deadline",label:"Deadline",iconSvg:n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),n("div",{className:"flex-1 overflow-y-scroll scrollbar-none",children:l&&Jt(l,o,i).filter(p=>e?p.weddingName.toLowerCase().includes(e.toLowerCase())||p.task.toLowerCase().includes(e.toLowerCase()):!0).map(p=>n("div",{children:[n(qt,{weddingName:p.weddingName,weddingDate:p.weddingDate,task:p.task,deadline:p.deadline,weddingId:p.weddingId,taskObject:p}),n("hr",{className:"my-4 h-px border-t-0 bg-transparent bg-gradient-to-r from-transparent via-base-100 to-transparent opacity-25 dark:opacity-100"})]},p._id))})]})}function Jt(e,t,l){return e.sort((a,r)=>{switch(t){case"name":return l?a.weddingName.localeCompare(r.weddingName):r.weddingName.localeCompare(a.weddingName);case"date":return l?new Date(a.weddingDate).getTime()-new Date(r.weddingDate).getTime():new Date(r.weddingDate).getTime()-new Date(a.weddingDate).getTime();case"task":return l?a.task.localeCompare(r.task):r.task.localeCompare(a.task);case"deadline":return l?new Date(a.deadline).getTime()-new Date(r.deadline).getTime():new Date(r.deadline).getTime()-new Date(a.deadline).getTime();default:return l?new Date(a.deadline).getTime()-new Date(r.deadline).getTime():new Date(r.deadline).getTime()-new Date(a.deadline).getTime()}})}function qt({weddingName:e,weddingDate:t,task:l,deadline:a,weddingId:r,taskObject:o}){const[c,i]=k(""),[f,p]=k(""),{fetchTasks:s,user:_,refetchData:u}=j(E);L(()=>{const h=new Date,v=new Date(a),g=new Date;g.setDate(h.getDate()+7),v<h?i("bg-error/70 text-neutral px-2"):v<=g?i("bg-warning/70 text-neutral px-2"):i("")},[a]);async function d(){if(window.confirm("Mark as complete?"))try{const h=`${T}/api/v1/weddings/${o.weddingId}/checklist/${o.checklistId}/tasks/${o._id}`,v=await fetch(h,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({completed:!o.completed,completedAt:l.completed?null:new Date})});if(v.ok){const g=v.json();console.log(g),u(),s()}}catch(h){console.log(h)}}async function m(){try{const h=`${T}/api/v1/weddings/${o.weddingId}/checklist/${o.checklistId}/tasks/${o._id}/comments`,v=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({author:_==null?void 0:_.displayName,createdAt:new Date,text:f})});if(v.ok){const g=v.json();p(""),s()}}catch(h){console.log(h)}}return n("div",{className:"bg-base-100 p-6 rounded text-sm",children:[n("div",{className:"grid grid-cols-4 font-semibold",children:[n("h1",{children:e}),n("h3",{children:G(t)}),n("h3",{children:l}),n("div",{className:` ${c} rounded w-fit`,children:n(I,{value:G(a),fieldName:"deadline",fieldType:"date"})})]}),n("hr",{className:"my-4 h-px border-t-0 bg-transparent bg-gradient-to-r from-transparent via-base-300 to-transparent opacity-25 dark:opacity-100"}),n("div",{className:"grid grid-cols-4 h-full mt-6 font-semibold",children:[n("div",{className:"col-span-3 flex flex-col",style:{minHeight:"100%"},children:[n("h3",{children:"Comments: "}),n("div",{className:"mr-6 mt-6",children:n("div",{className:"w-full flex-1 p-3 rounded  bg-base-300",children:[n("div",{className:"h-full w-full space-y-1",children:n("div",{className:"max-h-64 overflow-y-scroll",children:o&&o.comments.map(h=>n(Gt,{_id:h._id,parentId:h.parentId,text:h.text,createdAt:h.createdAt,authorId:h.authorId,author:h.author,updatedAt:h.updatedAt,weddingId:o.weddingId,chatStart:h.author!==(_==null?void 0:_.displayName),taskObject:o}))})}),n("div",{className:"col-span-3 rounded overflow-hidden mt-6",children:n("div",{className:"flex",children:n("input",{value:f,onChange:h=>{h.target instanceof HTMLInputElement&&p(h.target.value)},onKeyPress:h=>{h.key==="Enter"&&m()},type:"textArea",placeholder:"Message...",className:"w-full h-6 font-normal placeholder:text-neutral-content/50 focus:outline-none p-3 focus:border-b focus:border-info text-sm placeholder:text-xs"})})})]})})]}),n("div",{className:"space-y-6 mb-6",children:[n("h3",{children:"Mark As Complete: "}),n("button",{onClick:d,className:"bg-success/80 text-neutral text-xs px-2 py-1 rounded flex items-center",children:"Complete"})]})]})]})}function Gt({author:e,text:t,createdAt:l,chatStart:a,authorId:r,updatedAt:o,taskObject:c,_id:i}){const[f,p]=k(!1),{fetchTasks:s,refetchData:_,user:u}=j(E);async function d(){try{const m=`${T}/api/v1/weddings/${c.weddingId}/checklist/${c.checklistId}/tasks/${c._id}/comments/${i}`;(await fetch(m,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok&&(console.log("Comment deleted successfully"),s())}catch(m){console.log(m)}}return n("div",{className:"flex items-center",children:[n("div",{id:i,onClick:m=>p(!f),className:`chat ${a?"chat-start":"chat-end"} items-center space-y-1 flex-1`,children:[n("div",{className:"chat-image avatar"}),n("div",{className:"chat-header text-xs",children:[e,n("time",{className:"text-xs opacity-50"})]}),n("div",{className:"chat-bubble text-xs flex items-center",children:t}),n("div",{className:"chat-footer opacity-50 text-xs",children:"Seen"})]}),f&&n("button",{onClick:d,className:"bg-error/80 text-neutral rounded px-2 py-1 text-xs",children:"Delete"})]})}function Kt(){return n("div",{children:n("h1",{children:"Hello from the Edit Weddings Component"})})}function Zt(){const[e,t]=k("Overview"),[l,a]=k("");return n(vt,{children:n("main",{className:"h-screen flex flex-col",children:[n("div",{className:"flex-1 flex overflow-hidden",children:[n(St,{setNavTarget:t}),n("div",{className:"flex-1 flex flex-col",children:n(le,{fallback:n("div",{children:"Loading..."}),children:[n(Mt,{name:e,imageLink:"/img/BaliEveLogo.webp",searchTerm:l,setSearchTerm:a}),n("div",{className:"h-full p-6 bg-base-200 overflow-hidden overflow-y-scroll scrollbar-none",children:[e==="Overview"&&n(jt,{}),e==="Weddings"&&n(Ut,{searchTerm:l,setSearchTerm:a}),e==="Tasks"&&n(Rt,{searchTerm:l,setSearchTerm:a}),e==="Payments"&&n(It,{}),e==="Add_Wedding"&&n(Et,{}),e==="Edit_Wedding"&&n(Kt,{})]})]})})]}),n(Wt,{})]})})}dt(n(Zt,{}),document.getElementById("app"));
//# sourceMappingURL=index-fdadeb02.js.map
