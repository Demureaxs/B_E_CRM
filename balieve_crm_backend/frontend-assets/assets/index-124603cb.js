(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function l(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=l(s);fetch(s.href,o)}})();var se,w,je,V,ge,Fe,ue,Ve,ne={},ze=[],st=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function j(e,t){for(var l in t)e[l]=t[l];return e}function Ue(e){var t=e.parentNode;t&&t.removeChild(e)}function he(e,t,l){var r,s,o,c={};for(o in t)o=="key"?r=t[o]:o=="ref"?s=t[o]:c[o]=t[o];if(arguments.length>2&&(c.children=arguments.length>3?se.call(arguments,2):l),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)c[o]===void 0&&(c[o]=e.defaultProps[o]);return Q(e,c,r,s,null)}function Q(e,t,l,r,s){var o={type:e,props:t,key:l,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++je};return s==null&&w.vnode!=null&&w.vnode(o),o}function z(e){return e.children}function B(e,t){this.props=e,this.context=t}function q(e,t){if(t==null)return e.__?q(e.__,e.__.__k.indexOf(e)+1):null;for(var l;t<e.__k.length;t++)if((l=e.__k[t])!=null&&l.__e!=null)return l.__e;return typeof e.type=="function"?q(e):null}function Oe(e){var t,l;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((l=e.__k[t])!=null&&l.__e!=null){e.__e=e.__c.base=l.__e;break}return Oe(e)}}function _e(e){(!e.__d&&(e.__d=!0)&&V.push(e)&&!le.__r++||ge!==w.debounceRendering)&&((ge=w.debounceRendering)||Fe)(le)}function le(){var e,t,l,r,s,o,c,i;for(V.sort(ue);e=V.shift();)e.__d&&(t=V.length,r=void 0,s=void 0,c=(o=(l=e).__v).__e,(i=l.__P)&&(r=[],(s=j({},o)).__v=o.__v+1,me(i,o,s,l.__n,i.ownerSVGElement!==void 0,o.__h!=null?[c]:null,r,c??q(o),o.__h),Ke(r,o),o.__e!=c&&Oe(o)),V.length>t&&V.sort(ue));le.__r=0}function Re(e,t,l,r,s,o,c,i,p,m){var a,g,h,d,v,_,u,f=r&&r.__k||ze,k=f.length;for(l.__k=[],a=0;a<t.length;a++)if((d=l.__k[a]=(d=t[a])==null||typeof d=="boolean"||typeof d=="function"?null:typeof d=="string"||typeof d=="number"||typeof d=="bigint"?Q(null,d,null,null,d):Array.isArray(d)?Q(z,{children:d},null,null,null):d.__b>0?Q(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)!=null){if(d.__=l,d.__b=l.__b+1,(h=f[a])===null||h&&d.key==h.key&&d.type===h.type)f[a]=void 0;else for(g=0;g<k;g++){if((h=f[g])&&d.key==h.key&&d.type===h.type){f[g]=void 0;break}h=null}me(e,d,h=h||ne,s,o,c,i,p,m),v=d.__e,(g=d.ref)&&h.ref!=g&&(u||(u=[]),h.ref&&u.push(h.ref,null,d),u.push(g,d.__c||v,d)),v!=null?(_==null&&(_=v),typeof d.type=="function"&&d.__k===h.__k?d.__d=p=Je(d,p,e):p=qe(e,d,h,f,v,p),typeof l.type=="function"&&(l.__d=p)):p&&h.__e==p&&p.parentNode!=e&&(p=q(h))}for(l.__e=_,a=k;a--;)f[a]!=null&&(typeof l.type=="function"&&f[a].__e!=null&&f[a].__e==l.__d&&(l.__d=Ge(r).nextSibling),Ye(f[a],f[a]));if(u)for(a=0;a<u.length;a++)Ze(u[a],u[++a],u[++a])}function Je(e,t,l){for(var r,s=e.__k,o=0;s&&o<s.length;o++)(r=s[o])&&(r.__=e,t=typeof r.type=="function"?Je(r,t,l):qe(l,r,r,s,r.__e,t));return t}function oe(e,t){return t=t||[],e==null||typeof e=="boolean"||(Array.isArray(e)?e.some(function(l){oe(l,t)}):t.push(e)),t}function qe(e,t,l,r,s,o){var c,i,p;if(t.__d!==void 0)c=t.__d,t.__d=void 0;else if(l==null||s!=o||s.parentNode==null)e:if(o==null||o.parentNode!==e)e.appendChild(s),c=null;else{for(i=o,p=0;(i=i.nextSibling)&&p<r.length;p+=1)if(i==s)break e;e.insertBefore(s,o),c=o}return c!==void 0?c:s.nextSibling}function Ge(e){var t,l,r;if(e.type==null||typeof e.type=="string")return e.__e;if(e.__k){for(t=e.__k.length-1;t>=0;t--)if((l=e.__k[t])&&(r=Ge(l)))return r}return null}function at(e,t,l,r,s){var o;for(o in l)o==="children"||o==="key"||o in t||re(e,o,null,l[o],r);for(o in t)s&&typeof t[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||l[o]===t[o]||re(e,o,t[o],l[o],r)}function we(e,t,l){t[0]==="-"?e.setProperty(t,l??""):e[t]=l==null?"":typeof l!="number"||st.test(t)?l:l+"px"}function re(e,t,l,r,s){var o;e:if(t==="style")if(typeof l=="string")e.style.cssText=l;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)l&&t in l||we(e.style,t,"");if(l)for(t in l)r&&l[t]===r[t]||we(e.style,t,l[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=l,l?r||e.addEventListener(t,o?ke:ye,o):e.removeEventListener(t,o?ke:ye,o);else if(t!=="dangerouslySetInnerHTML"){if(s)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=l??"";break e}catch{}typeof l=="function"||(l==null||l===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,l))}}function ye(e){return this.l[e.type+!1](w.event?w.event(e):e)}function ke(e){return this.l[e.type+!0](w.event?w.event(e):e)}function me(e,t,l,r,s,o,c,i,p){var m,a,g,h,d,v,_,u,f,k,b,$,A,D,M,C=t.type;if(t.constructor!==void 0)return null;l.__h!=null&&(p=l.__h,i=t.__e=l.__e,t.__h=null,o=[i]),(m=w.__b)&&m(t);try{e:if(typeof C=="function"){if(u=t.props,f=(m=C.contextType)&&r[m.__c],k=m?f?f.props.value:m.__:r,l.__c?_=(a=t.__c=l.__c).__=a.__E:("prototype"in C&&C.prototype.render?t.__c=a=new C(u,k):(t.__c=a=new B(u,k),a.constructor=C,a.render=ct),f&&f.sub(a),a.props=u,a.state||(a.state={}),a.context=k,a.__n=r,g=a.__d=!0,a.__h=[],a._sb=[]),a.__s==null&&(a.__s=a.state),C.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=j({},a.__s)),j(a.__s,C.getDerivedStateFromProps(u,a.__s))),h=a.props,d=a.state,a.__v=t,g)C.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(C.getDerivedStateFromProps==null&&u!==h&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(u,k),!a.__e&&a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(u,a.__s,k)===!1||t.__v===l.__v){for(t.__v!==l.__v&&(a.props=u,a.state=a.__s,a.__d=!1),a.__e=!1,t.__e=l.__e,t.__k=l.__k,t.__k.forEach(function(L){L&&(L.__=t)}),b=0;b<a._sb.length;b++)a.__h.push(a._sb[b]);a._sb=[],a.__h.length&&c.push(a);break e}a.componentWillUpdate!=null&&a.componentWillUpdate(u,a.__s,k),a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(h,d,v)})}if(a.context=k,a.props=u,a.__P=e,$=w.__r,A=0,"prototype"in C&&C.prototype.render){for(a.state=a.__s,a.__d=!1,$&&$(t),m=a.render(a.props,a.state,a.context),D=0;D<a._sb.length;D++)a.__h.push(a._sb[D]);a._sb=[]}else do a.__d=!1,$&&$(t),m=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++A<25);a.state=a.__s,a.getChildContext!=null&&(r=j(j({},r),a.getChildContext())),g||a.getSnapshotBeforeUpdate==null||(v=a.getSnapshotBeforeUpdate(h,d)),M=m!=null&&m.type===z&&m.key==null?m.props.children:m,Re(e,Array.isArray(M)?M:[M],t,l,r,s,o,c,i,p),a.base=t.__e,t.__h=null,a.__h.length&&c.push(a),_&&(a.__E=a.__=null),a.__e=!1}else o==null&&t.__v===l.__v?(t.__k=l.__k,t.__e=l.__e):t.__e=it(l.__e,t,l,r,s,o,c,p);(m=w.diffed)&&m(t)}catch(L){t.__v=null,(p||o!=null)&&(t.__e=i,t.__h=!!p,o[o.indexOf(i)]=null),w.__e(L,t,l)}}function Ke(e,t){w.__c&&w.__c(t,e),e.some(function(l){try{e=l.__h,l.__h=[],e.some(function(r){r.call(l)})}catch(r){w.__e(r,l.__v)}})}function it(e,t,l,r,s,o,c,i){var p,m,a,g=l.props,h=t.props,d=t.type,v=0;if(d==="svg"&&(s=!0),o!=null){for(;v<o.length;v++)if((p=o[v])&&"setAttribute"in p==!!d&&(d?p.localName===d:p.nodeType===3)){e=p,o[v]=null;break}}if(e==null){if(d===null)return document.createTextNode(h);e=s?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,h.is&&h),o=null,i=!1}if(d===null)g===h||i&&e.data===h||(e.data=h);else{if(o=o&&se.call(e.childNodes),m=(g=l.props||ne).dangerouslySetInnerHTML,a=h.dangerouslySetInnerHTML,!i){if(o!=null)for(g={},v=0;v<e.attributes.length;v++)g[e.attributes[v].name]=e.attributes[v].value;(a||m)&&(a&&(m&&a.__html==m.__html||a.__html===e.innerHTML)||(e.innerHTML=a&&a.__html||""))}if(at(e,h,g,s,i),a)t.__k=[];else if(v=t.props.children,Re(e,Array.isArray(v)?v:[v],t,l,r,s&&d!=="foreignObject",o,c,o?o[0]:l.__k&&q(l,0),i),o!=null)for(v=o.length;v--;)o[v]!=null&&Ue(o[v]);i||("value"in h&&(v=h.value)!==void 0&&(v!==e.value||d==="progress"&&!v||d==="option"&&v!==g.value)&&re(e,"value",v,g.value,!1),"checked"in h&&(v=h.checked)!==void 0&&v!==e.checked&&re(e,"checked",v,g.checked,!1))}return e}function Ze(e,t,l){try{typeof e=="function"?e(t):e.current=t}catch(r){w.__e(r,l)}}function Ye(e,t,l){var r,s;if(w.unmount&&w.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Ze(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){w.__e(o,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&Ye(r[s],t,l||typeof e.type!="function");l||e.__e==null||Ue(e.__e),e.__=e.__e=e.__d=void 0}function ct(e,t,l){return this.constructor(e,l)}function dt(e,t,l){var r,s,o;w.__&&w.__(e,t),s=(r=typeof l=="function")?null:l&&l.__k||t.__k,o=[],me(t,e=(!r&&l||t).__k=he(z,null,[e]),s||ne,ne,t.ownerSVGElement!==void 0,!r&&l?[l]:s?null:t.firstChild?se.call(t.childNodes):null,o,!r&&l?l:s?s.__e:t.firstChild,r),Ke(o,e)}function ut(e,t){var l={__c:t="__cC"+Ve++,__:e,Consumer:function(r,s){return r.children(s)},Provider:function(r){var s,o;return this.getChildContext||(s=[],(o={})[t]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(c){this.props.value!==c.value&&s.some(function(i){i.__e=!0,_e(i)})},this.sub=function(c){s.push(c);var i=c.componentWillUnmount;c.componentWillUnmount=function(){s.splice(s.indexOf(c),1),i&&i.call(c)}}),r.children}};return l.Provider.__=l.Consumer.contextType=l}se=ze.slice,w={__e:function(e,t,l,r){for(var s,o,c;t=t.__;)if((s=t.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(e)),c=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,r||{}),c=s.__d),c)return s.__E=s}catch(i){e=i}throw e}},je=0,B.prototype.setState=function(e,t){var l;l=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=j({},this.state),typeof e=="function"&&(e=e(j({},l),this.props)),e&&j(l,e),e!=null&&this.__v&&(t&&this._sb.push(t),_e(this))},B.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),_e(this))},B.prototype.render=z,V=[],Fe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ue=function(e,t){return e.__v.__b-t.__v.__b},le.__r=0,Ve=0;var ae,N,de,xe,fe=0,Qe=[],X=[],be=w.__b,Ne=w.__r,Ce=w.diffed,Te=w.__c,$e=w.unmount;function ve(e,t){w.__h&&w.__h(N,e,fe||t),fe=0;var l=N.__H||(N.__H={__:[],__h:[]});return e>=l.__.length&&l.__.push({__V:X}),l.__[e]}function y(e){return fe=1,ht(Xe,e)}function ht(e,t,l){var r=ve(ae++,2);if(r.t=e,!r.__c&&(r.__=[l?l(t):Xe(void 0,t),function(i){var p=r.__N?r.__N[0]:r.__[0],m=r.t(p,i);p!==m&&(r.__N=[m,r.__[1]],r.__c.setState({}))}],r.__c=N,!N.u)){var s=function(i,p,m){if(!r.__c.__H)return!0;var a=r.__c.__H.__.filter(function(h){return h.__c});if(a.every(function(h){return!h.__N}))return!o||o.call(this,i,p,m);var g=!1;return a.forEach(function(h){if(h.__N){var d=h.__[0];h.__=h.__N,h.__N=void 0,d!==h.__[0]&&(g=!0)}}),!(!g&&r.__c.props===i)&&(!o||o.call(this,i,p,m))};N.u=!0;var o=N.shouldComponentUpdate,c=N.componentWillUpdate;N.componentWillUpdate=function(i,p,m){if(this.__e){var a=o;o=void 0,s(i,p,m),o=a}c&&c.call(this,i,p,m)},N.shouldComponentUpdate=s}return r.__N||r.__}function F(e,t){var l=ve(ae++,3);!w.__s&&pt(l.__H,t)&&(l.__=e,l.i=t,N.__H.__h.push(l))}function I(e){var t=N.context[e.__c],l=ve(ae++,9);return l.c=e,t?(l.__==null&&(l.__=!0,t.sub(N)),t.props.value):e.__}function _t(){for(var e;e=Qe.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ee),e.__H.__h.forEach(pe),e.__H.__h=[]}catch(t){e.__H.__h=[],w.__e(t,e.__v)}}w.__b=function(e){N=null,be&&be(e)},w.__r=function(e){Ne&&Ne(e),ae=0;var t=(N=e.__c).__H;t&&(de===N?(t.__h=[],N.__h=[],t.__.forEach(function(l){l.__N&&(l.__=l.__N),l.__V=X,l.__N=l.i=void 0})):(t.__h.forEach(ee),t.__h.forEach(pe),t.__h=[])),de=N},w.diffed=function(e){Ce&&Ce(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Qe.push(t)!==1&&xe===w.requestAnimationFrame||((xe=w.requestAnimationFrame)||ft)(_t)),t.__H.__.forEach(function(l){l.i&&(l.__H=l.i),l.__V!==X&&(l.__=l.__V),l.i=void 0,l.__V=X})),de=N=null},w.__c=function(e,t){t.some(function(l){try{l.__h.forEach(ee),l.__h=l.__h.filter(function(r){return!r.__||pe(r)})}catch(r){t.some(function(s){s.__h&&(s.__h=[])}),t=[],w.__e(r,l.__v)}}),Te&&Te(e,t)},w.unmount=function(e){$e&&$e(e);var t,l=e.__c;l&&l.__H&&(l.__H.__.forEach(function(r){try{ee(r)}catch(s){t=s}}),l.__H=void 0,t&&w.__e(t,l.__v))};var Ae=typeof requestAnimationFrame=="function";function ft(e){var t,l=function(){clearTimeout(r),Ae&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(l,100);Ae&&(t=requestAnimationFrame(l))}function ee(e){var t=N,l=e.__c;typeof l=="function"&&(e.__c=void 0,l()),N=t}function pe(e){var t=N;e.__c=e.__(),N=t}function pt(e,t){return!e||e.length!==t.length||t.some(function(l,r){return l!==e[r]})}function Xe(e,t){return typeof t=="function"?t(e):t}const mt="production",vt={development:"http://192.168.18.7:8080",production:"https://bali-eve-crm.fly.dev"},T=vt[mt];var gt=0;function n(e,t,l,r,s,o){var c,i,p={};for(i in t)i=="ref"?c=t[i]:p[i]=t[i];var m={type:e,props:p,key:l,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--gt,__source:s,__self:o};if(typeof e=="function"&&(c=e.defaultProps))for(i in c)p[i]===void 0&&(p[i]=c[i]);return w.vnode&&w.vnode(m),m}const P=ut({allWeddings:[],setAllWeddings:()=>{},wedding:null,setWedding:()=>{},showModal:!1,setShowModal:()=>{},user:null,agents:[],refetchData:()=>{},tasks:[],fetchTasks:()=>{}});function wt(e){const[t,l]=y([]),[r,s]=y(null),[o,c]=y(!1),[i,p]=y(null),[m,a]=y([]),[g,h]=y([]);async function d(){const k=await(await fetch(`${T}/api/v1/agents/643e3ee3250aa44438b09464/tasks`)).json();h(k)}F(()=>{d()},[]);async function v(){const k=await(await fetch(`${T}/api/v1/users`)).json();a(k)}F(()=>{v(),console.log(m)},[]),F(()=>{async function f(){const b=await(await fetch(`${T}/api/v1/weddings`)).json();l(b)}f()},[]);async function _(){const k=await(await fetch(`${T}/api/v1/weddings`)).json();l(k)}const u={allWeddings:t,setAllWeddings:l,wedding:r,setWedding:s,showModal:o,setShowModal:c,user:i,agents:m,tasks:g,fetchTasks:d,refetchData:_};return n(P.Provider,{value:u,children:e.children})}function yt(e,t){for(var l in t)e[l]=t[l];return e}function Me(e,t){for(var l in e)if(l!=="__source"&&!(l in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function Se(e){this.props=e}(Se.prototype=new B).isPureReactComponent=!0,Se.prototype.shouldComponentUpdate=function(e,t){return Me(this.props,e)||Me(this.state,t)};var De=w.__b;w.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),De&&De(e)};var kt=w.__e;w.__e=function(e,t,l,r){if(e.then){for(var s,o=t;o=o.__;)if((s=o.__c)&&s.__c)return t.__e==null&&(t.__e=l.__e,t.__k=l.__k),s.__c(e,t)}kt(e,t,l,r)};var We=w.unmount;function et(e,t,l){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=yt({},e)).__c!=null&&(e.__c.__P===l&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return et(r,t,l)})),e}function tt(e,t,l){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return tt(r,t,l)}),e.__c&&e.__c.__P===t&&(e.__e&&l.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=l)),e}function te(){this.__u=0,this.t=null,this.__b=null}function nt(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Z(){this.u=null,this.o=null}w.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&e.__h===!0&&(e.type=null),We&&We(e)},(te.prototype=new B).__c=function(e,t){var l=t.__c,r=this;r.t==null&&(r.t=[]),r.t.push(l);var s=nt(r.__v),o=!1,c=function(){o||(o=!0,l.__R=null,s?s(i):i())};l.__R=c;var i=function(){if(!--r.__u){if(r.state.__a){var m=r.state.__a;r.__v.__k[0]=tt(m,m.__c.__P,m.__c.__O)}var a;for(r.setState({__a:r.__b=null});a=r.t.pop();)a.forceUpdate()}},p=t.__h===!0;r.__u++||p||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(c,c)},te.prototype.componentWillUnmount=function(){this.t=[]},te.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var l=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=et(this.__b,l,r.__O=r.__P)}this.__b=null}var s=t.__a&&he(z,null,e.fallback);return s&&(s.__h=null),[he(z,null,t.__a?null:e.children),s]};var Pe=function(e,t,l){if(++l[1]===l[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(l=e.u;l;){for(;l.length>3;)l.pop()();if(l[1]<l[0])break;e.u=l=l[2]}};(Z.prototype=new B).__a=function(e){var t=this,l=nt(t.__v),r=t.o.get(e);return r[0]++,function(s){var o=function(){t.props.revealOrder?(r.push(s),Pe(t,e,r)):s()};l?l(o):o()}},Z.prototype.render=function(e){this.u=null,this.o=new Map;var t=oe(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var l=t.length;l--;)this.o.set(t[l],this.u=[1,0,this.u]);return e.children},Z.prototype.componentDidUpdate=Z.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,l){Pe(e,l,t)})};var xt=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,bt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Nt=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Ct=/[A-Z0-9]/g,Tt=typeof document<"u",$t=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};B.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(B.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var Ee=w.event;function At(){}function Mt(){return this.cancelBubble}function St(){return this.defaultPrevented}w.event=function(e){return Ee&&(e=Ee(e)),e.persist=At,e.isPropagationStopped=Mt,e.isDefaultPrevented=St,e.nativeEvent=e};var Dt={enumerable:!1,configurable:!0,get:function(){return this.class}},He=w.vnode;w.vnode=function(e){typeof e.type=="string"&&function(t){var l=t.props,r=t.type,s={};for(var o in l){var c=l[o];if(!(o==="value"&&"defaultValue"in l&&c==null||Tt&&o==="children"&&r==="noscript"||o==="class"||o==="className")){var i=o.toLowerCase();o==="defaultValue"&&"value"in l&&l.value==null?o="value":o==="download"&&c===!0?c="":i==="ondoubleclick"?o="ondblclick":i!=="onchange"||r!=="input"&&r!=="textarea"||$t(l.type)?i==="onfocus"?o="onfocusin":i==="onblur"?o="onfocusout":Nt.test(o)?o=i:r.indexOf("-")===-1&&bt.test(o)?o=o.replace(Ct,"-$&").toLowerCase():c===null&&(c=void 0):i=o="oninput",i==="oninput"&&s[o=i]&&(o="oninputCapture"),s[o]=c}}r=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=oe(l.children).forEach(function(p){p.props.selected=s.value.indexOf(p.props.value)!=-1})),r=="select"&&s.defaultValue!=null&&(s.value=oe(l.children).forEach(function(p){p.props.selected=s.multiple?s.defaultValue.indexOf(p.props.value)!=-1:s.defaultValue==p.props.value})),l.class&&!l.className?(s.class=l.class,Object.defineProperty(s,"className",Dt)):(l.className&&!l.class||l.class&&l.className)&&(s.class=s.className=l.className),t.props=s}(e),e.$$typeof=xt,He&&He(e)};var Be=w.__r;w.__r=function(e){Be&&Be(e),e.__c};var Ie=w.diffed;w.diffed=function(e){Ie&&Ie(e);var t=e.props,l=e.__e;l!=null&&e.type==="textarea"&&"value"in t&&t.value!==l.value&&(l.value=t.value==null?"":t.value)};function Wt({name:e,imageLink:t,searchTerm:l,setSearchTerm:r}){return n("div",{className:"navbar bg-base-100",children:[n("div",{className:"flex-1",children:n("a",{className:"btn btn-ghost normal-case text-xl",children:e.replace("_"," ")})}),n("div",{className:"flex-none gap-2",children:[n("div",{className:"form-control h-10 hidden sm:flex",children:n("input",{type:"text",placeholder:"Search",value:l,onInput:s=>{s.target instanceof HTMLInputElement&&r(s.target.value)},className:"input input-bordered"})}),n("div",{className:"dropdown dropdown-end",children:[n("label",{tabIndex:0,className:"btn btn-ghost btn-circle avatar",children:n("div",{className:"w-10 rounded-full border border-base-300",children:n("img",{src:t})})}),n("ul",{tabIndex:0,className:"mt-3 p-2 shadow menu menu-compact dropdown-content bg-base-100 rounded-box w-52",children:[n("li",{children:n("a",{className:"justify-between",children:["Profile",n("span",{className:"badge",children:"New"})]})}),n("li",{children:n("a",{children:"Settings"})}),n("li",{children:n("a",{children:"Logout"})})]})]})]})]})}function Pt({setNavTarget:e}){return n("div",{className:"border-r border-base-200 hidden lg:block",children:n("div",{className:"drawer-side p-6",children:[n("label",{htmlFor:"my-drawer-2",className:"drawer-overlay"}),n(Et,{}),n("hr",{className:" mb-6 h-px border-t-0 bg-transparent bg-gradient-to-r from-transparent via-base-200 to-transparent opacity-25 dark:opacity-100"}),n("ul",{className:"menu px-4 w-80 bg-base-100 text-base-content",children:[n(O,{setNavTarget:e,name:"Overview"}),n(O,{setNavTarget:e,name:"Weddings"}),n(O,{setNavTarget:e,name:"Tasks"}),n(O,{setNavTarget:e,name:"Payments"}),n(O,{setNavTarget:e,name:"Add Wedding"}),n(O,{setNavTarget:e,name:"Edit Wedding"})]})]})})}function O({name:e,setNavTarget:t}){return n("li",{onClick:()=>t(e.replace(" ","_")),children:n("h3",{children:e})})}function Et(){return n("div",{className:"flex text-xs items-center space-x-4 mb-4",children:[n("div",{className:"h-14 w-14 rounded-full overflow-hidden border border-base-300",children:n("img",{src:"/img/BaliEveLogo.webp",alt:"Bali Eve Logo"})}),n("div",{children:[n("h1",{className:"font-bold",children:"Bali Eve Dashboard"}),n("p",{children:"Info@balieveplanner.com"})]})]})}function Ht(){return n("footer",{className:"footer items-center p-4 bg-neutral text-neutral-content",children:[n("div",{className:"items-center grid-flow-col",children:[n("svg",{width:"36",height:"36",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",className:"fill-current",children:n("path",{d:"M22.672 15.226l-2.432.811.841 2.515c.33 1.019-.209 2.127-1.23 2.456-1.15.325-2.148-.321-2.463-1.226l-.84-2.518-5.013 1.677.84 2.517c.391 1.203-.434 2.542-1.831 2.542-.88 0-1.601-.564-1.86-1.314l-.842-2.516-2.431.809c-1.135.328-2.145-.317-2.463-1.229-.329-1.018.211-2.127 1.231-2.456l2.432-.809-1.621-4.823-2.432.808c-1.355.384-2.558-.59-2.558-1.839 0-.817.509-1.582 1.327-1.846l2.433-.809-.842-2.515c-.33-1.02.211-2.129 1.232-2.458 1.02-.329 2.13.209 2.461 1.229l.842 2.515 5.011-1.677-.839-2.517c-.403-1.238.484-2.553 1.843-2.553.819 0 1.585.509 1.85 1.326l.841 2.517 2.431-.81c1.02-.33 2.131.211 2.461 1.229.332 1.018-.21 2.126-1.23 2.456l-2.433.809 1.622 4.823 2.433-.809c1.242-.401 2.557.484 2.557 1.838 0 .819-.51 1.583-1.328 1.847m-8.992-6.428l-5.01 1.675 1.619 4.828 5.011-1.674-1.62-4.829z"})}),n("p",{children:"Copyright Â© 2023 Bali Eve Planner - All right reserved"})]}),n("div",{className:"grid-flow-col gap-4 md:place-self-center md:justify-self-end",children:[n("a",{children:n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:n("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),n("a",{children:n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:n("path",{d:"M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"})})}),n("a",{children:n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:n("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})})})]})]})}function Bt(){const[e,t]=y(""),[l,r]=y(""),[s,o]=y(0),[c,i]=y(""),[p,m]=y(""),[a,g]=y(""),[h,d]=y(0),[v,_]=y(""),[u,f]=y(""),[k,b]=y(""),[$,A]=y(""),[D,M]=y(""),[C,L]=y(""),{refetchData:ot,agents:ie}=I(P);async function rt(){var G;const x=(G=ie.find(U=>U.displayName===e))==null?void 0:G._id;console.log(x);const ce={agent:e,agentId:x,name:l,budget:s,email:c,date:p,venue:a,guests:h,foodAndBeverage:v,decoration:u,production:k,videographer:$,photographer:D,vendorProgress:C};try{const U=`${T}/api/v1/weddings`,K=await fetch(U,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)});if(K.ok){const Qt=await K.json();console.log("Wedding Saved"),ot()}t(""),r(""),o(0),i(""),m(""),g(""),d(0),_(""),f(""),b(""),A(""),M(""),L("")}catch(U){console.log(U)}}function S(x,ce){const G=x.target,{name:U,value:K}=G;ce(K)}return s.toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}),n("div",{className:"flex gap-6 h-full w-full space-y-4  overflow-y-scroll scrollbar-none",children:[n("div",{className:"bg-base-100 space-y-4 h-fit p-6 flex-1 mx-auto rounded",children:[n("p",{className:"text-xs ",children:"Agent:"}),n("select",{defaultValue:"Agent1",name:"agent",value:e,onChange:x=>S(x,t),className:"focus:outline-none text-sm w-full px-2 py-1",placeholder:"Select Agent",children:ie&&ie.map(x=>n("option",{value:x.displayName,children:x.displayName},x._id))}),n(W,{label:"Name",type:"text",placeholder:"Wedding Name",onChange:x=>S(x,r)}),n(W,{label:"Email",type:"email",placeholder:"Email",onChange:x=>S(x,i)}),n(W,{label:"Budget",type:"number",placeholder:"Budget",onChange:x=>S(x,o)}),n(W,{label:"Date",type:"date",placeholder:"Date",onChange:x=>S(x,m)}),n(W,{label:"venue",type:"text",placeholder:"Venue",onChange:x=>S(x,g)}),n(W,{label:"Guests",type:"number",placeholder:"Guests",onChange:x=>S(x,d)}),n(W,{label:"Food and Beverage",type:"text",placeholder:"Food and Beverage",onChange:x=>S(x,_)}),n(W,{label:"Decoration",type:"text",placeholder:"Decoration",onChange:x=>S(x,f)}),n(W,{label:"Production",type:"text",placeholder:"Production",onChange:x=>S(x,b)}),n(W,{label:"Videographer",type:"text",placeholder:"Videographer",onChange:x=>S(x,A)}),n(W,{label:"Photographer",type:"text",placeholder:"Photographer",onChange:x=>S(x,M)}),n("div",{className:"text-sm w-full flex justify-end",children:n("button",{onClick:rt,className:"bg-success/80 text-neutral rounded px-2 py-1 mt-10",children:"Add Wedding"})})]}),n("div",{className:"flex-1",children:n("h1",{children:"I am an information section"})})]})}function W({label:e,type:t,placeholder:l,value:r,onChange:s}){return n(z,{children:[n("p",{className:"text-xs",children:[e,":"]}),n("input",{type:t,className:"w-full px-2 py-1 rounded placeholder:text-neutral-content/50 focus:outline-none focus:border-b focus:border-blue-600 text-sm",placeholder:l,value:r,onChange:s})]})}function It(e){return[...e].sort((l,r)=>new Date(l.date).getTime()-new Date(r.date).getTime()).filter((l,r)=>r<3)}function Y({statistic:e,label:t,thisWeek:l}){return n("div",{className:"flex rounded items-center bg-base-100",children:n("div",{className:"flex-1 p-6 flex gap-4",children:[n("div",{children:n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-8 h-8",children:[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 6a7.5 7.5 0 107.5 7.5h-7.5V6z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 10.5H21A7.5 7.5 0 0013.5 3v7.5z"})]})}),n("div",{className:"flex flex-col gap-4",children:[n("h2",{className:"font-semibold text-lg",children:t}),n("h1",{className:`text-2xl font-semibold ${e>0&&t.toLowerCase()==="overdue"||e<0&&t.toLowerCase()!=="overdue"?"text-error/80":"text-success/80"}`,children:e}),n("div",{className:"flex items-center space-x-2",children:[e>0?n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:`w-4 h-4 ${e>0&&t.toLowerCase()==="overdue"||e<0&&t.toLowerCase()!=="overdue"?"text-error/80":"text-success/80"}`,children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941"})}):n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:`w-4 h-4 ${e>0&&t.toLowerCase()==="overdue"||e<0&&t.toLowerCase()!=="overdue"?"text-error/80":"text-success/80"}`,children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6L9 12.75l4.286-4.286a11.948 11.948 0 014.306 6.43l.776 2.898m0 0l3.182-5.511m-3.182 5.51l-5.511-3.181"})})," ",n("h3",{className:" text-xs",children:[l," this week"]})]})]})]})})}function J(e){if(!e||isNaN(new Date(e).getTime()))return"";const t={weekday:"long",day:"numeric",month:"long",year:"numeric"};return new Intl.DateTimeFormat("en-US",t).format(new Date(e))}function Le(e){const t=new Date(e),l=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${l}-${r}-${s}`}function Lt({wedding:e}){return n("div",{id:e._id,className:"col-span-2 bg-base-100 p-6 rounded space-y-2",children:[n("p",{children:[n("span",{className:"font-bold",children:"Wedding of: "}),e.name]}),n("p",{children:[n("span",{className:"font-bold",children:"Date: "}),J(e.date)]}),n("p",{children:[n("span",{className:"font-bold",children:"Email: "}),e.email]}),n("p",{children:[n("span",{className:"font-bold",children:"Guests: "}),e.guests]}),n("p",{children:[n("span",{className:"font-bold",children:"Venue: "}),e.venue]}),n("p",{children:[n("span",{className:"font-bold",children:"Photographer: "}),e.photographer]}),n("p",{children:[n("span",{className:"font-bold",children:"Videographer: "}),e.videographer]}),n("p",{children:[n("span",{className:"font-bold",children:"F & B: "}),e.foodAndBeverage]}),n("p",{children:[n("span",{className:"font-bold",children:"Vendor Progress: "}),e.vendorProgress]})]})}function jt(){const{allWeddings:e,setAllWeddings:t}=I(P);y();const[l,r]=y(0),[s,o]=y(0),[c,i]=y(0),[p,m]=y(0),[a,g]=y(0),[h,d]=y(0);return y(0),y(0),F(()=>{if(e){const v=new Date;v.setDate(v.getDate()-7),r(e.map(_=>_.checklist.map(u=>u.tasks.filter(f=>!f.completed).length)).flat().reduce((_,u)=>_+u,0)),o(e.map(_=>_.checklist.map(u=>u.tasks.filter(f=>!f.completed&&new Date(f.createdAt)>v).length)).flat().reduce((_,u)=>_+u,0)),i(e.map(_=>_.checklist.flatMap(u=>u.tasks.filter(f=>f.completed))).flat().length),m(e.map(_=>_.checklist.flatMap(u=>u.tasks.filter(f=>f.completed&&f.completedAt&&new Date(f.completedAt)>v))).flat().length),g(e.map(_=>_.checklist.flatMap(u=>u.tasks.filter(f=>!f.completed&&f.deadline&&new Date(f.deadline)<new Date))).flat().length),d(e.map(_=>_.checklist.flatMap(u=>u.tasks.filter(f=>!f.completed&&f.deadline&&new Date(f.deadline)<new Date&&new Date(f.deadline)>v))).flat().length)}},[e]),n("div",{className:"h-full w-full space-y-6",children:[n("div",{className:"grid grid-rows-4 grid-cols-1 md:grid-rows-2 md:grid-cols-2 xl:grid-rows-1 xl:grid-cols-4 gap-6 h-fit",children:[n(Y,{label:"Current Tasks",statistic:l,thisWeek:s}),n(Y,{label:"Completed",statistic:c,thisWeek:p}),n(Y,{label:"Overdue",statistic:a,thisWeek:h}),n(Y,{label:"Invoices",statistic:"7"})]}),n("hr",{className:"my-12 h-px border-t-0 bg-transparent bg-gradient-to-r from-transparent via-base-100 to-transparent opacity-25 dark:opacity-100"}),n("div",{className:"grid grid-cols-6 gap-6",children:It(e).map(v=>n(Lt,{wedding:v}))}),n("hr",{className:"my-12 h-px border-t-0 bg-transparent bg-gradient-to-r from-transparent via-base-100 to-transparent opacity-25 dark:opacity-100"})]})}function Ft(){return n("div",{children:n("h1",{children:"Hello From the PaymentTimeline Component"})})}async function Vt(e){if(!e)return;const t=`${T}/api/v1/weddings/${e._id}`;try{const l=await fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);return console.log("Wedding updated successfully"),l.json()}catch(l){console.error("Error updating wedding:",l)}}function E(e){const[t,l]=y(!1);function r(s){s.target.value!==""&&e.updateField(e.fieldName,s.target.value),l(!1)}return t?n("div",{className:`${e.forceFull?"w-full":""}`,children:n("input",{className:"w-full flex-1 focus:outline-none focus:border-b focus:border-blue-600",size:40,type:e.fieldType,value:e.value,onBlur:r,onKeyPress:async s=>{s.key==="Enter"&&s.currentTarget.blur()}})}):n("div",{className:e.forceFull?"w-full":"",children:n("p",{onClick:()=>l(!0),className:`${e.isBold?"font-semibold":""} w-full whitespace-nowrap`,children:e.value})})}function lt(e){return n("div",{className:"w-full bg-base-300 rounded-full h-2 overflow-hidden",children:n("div",{className:`${e.value===100?"bg-success/80":"bg-info/80"} h-full transition-all duration-700`,style:{width:`${e.value}%`}})})}function zt(e){y(!1);const[t,l]=y(!1),{wedding:r,setWedding:s,allWeddings:o,setAllWeddings:c,refetchData:i,agents:p,fetchTasks:m}=I(P);y("");const[a,g]=y(e.tasks.agent),[h,d]=y(e.tasks.deadline);async function v(u,f){if(!r)return;const k=r.checklist[u].tasks[f],b={...k,completed:!k.completed,completedAt:k.completed?null:new Date},$=`${T}/api/v1/weddings/${r._id}/checklist/${r.checklist[u]._id}/tasks/${e.tasks._id}`;try{const A=await fetch($,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(A.ok){const D=await A.json();console.log("checklist completed updated successfully"),s(D),m(),i()}}catch(A){console.log(A)}}async function _(u,f,k){var M;if(!r)return;const b=(M=p.find(C=>C.displayName===a))==null?void 0:M._id;console.log(e.tasks);const A={...r.checklist[f].tasks[k],task:u.target.value,agent:a,agentId:b,deadline:h},D=`${T}/api/v1/weddings/${r._id}/checklist/${r.checklist[f]._id}/tasks/${e.tasks._id}`;try{const C=await fetch(D,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(C.ok){const L=await C.json();console.log("checklist Taskname updated successfully"),s(L),m(),i()}}catch(C){console.log(C)}}return n("div",{id:e.tasks._id,className:"space-y-2 flex-1 ml-9",children:n("div",{className:"flex space-x-4 text-sm items-center",children:[n("input",{className:" h-3 w-3 text-info checked:bg-warning",type:"checkbox",name:e.tasks.task,id:e.tasks.task._id,checked:e.tasks.completed,onClick:u=>{v(e.checklistIndex,e.taskIndex),u.target.checked,e.tasks.task}}),t?n("div",{className:"w-full space-y-2 mr-4 mb-2",children:[n("h3",{className:"text-xs",children:"Task:"}),n("input",{type:"text",value:e.tasks.task,className:" flex-1 text-sm px-1 w-full focus:outline-none focus:border-b focus:border-blue-600",onBlur:u=>{_(u,e.checklistIndex,e.taskIndex),l(!1)},onKeyPress:u=>{u.key==="Enter"&&u.currentTarget.blur()}}),n("div",{className:"w-full flex gap-2",children:[n("div",{className:"flex-1 space-y-2",children:[n("h3",{className:"text-xs",children:"Assign Planner:"}),n("select",{value:a,onChange:u=>g(u.target instanceof HTMLSelectElement?u.target.value:""),className:"w-full focus:outline-none focus:border-b focus:border-blue-600",name:"planner",id:"plannerSelect",children:p&&p.map(u=>n("option",{value:u.displayName,children:u.displayName},u._id))})]}),n("div",{className:"flex-1 space-y-2",children:[n("h3",{className:"text-xs",children:"Deadline:"}),n("input",{className:"w-full text-xs p-[0.5px] focus:outline-none focus:border-b focus:border-blue-600",type:"date",placeholder:"Deadline",value:Le(h||new Date),onChange:u=>d(u.target instanceof HTMLInputElement?u.target.value:"")})]})]})]}):n("label",{htmlFor:e.tasks.task,className:"flex-1",onClick:()=>l(!0),children:e.tasks.task})]})})}function Ut(e){y(!1);const[t,l]=y(0),{wedding:r,setWedding:s,refetchData:o,fetchTasks:c}=I(P);F(()=>{const g=e.task.tasks.filter(v=>v.completed).length,h=e.task.tasks.length,d=h>0?g/h*100:0;l(parseFloat(d.toFixed(0)))},[e.task]);async function i(g,h){if(!r)return;const d=`${T}/api/v1/weddings/${r._id}/checklist/${e.task._id}`;try{const v=await fetch(d,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({[g]:h})});if(v.ok){const _=await v.json();console.log("Checklist container updated"),s(_),o()}else console.log("Failed to update checklist container")}catch(v){console.log(v)}}async function p(g){if(r){const h=`${T}/api/v1/weddings/${r._id}/checklist/${e.task._id}/tasks`;try{const d=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({createdAt:new Date,completedAt:null,completed:!1,task:"Name of task"})});if(d.ok){const v=await d.json();console.log("checklist item added successfully"),s(v),o()}}catch(d){console.log(d)}}}async function m(g){if(!r)return;const h=`${T}/api/v1/weddings/${r._id}/checklist/${e.task._id}/tasks/${e.task.tasks[g]._id}`;try{const d=await fetch(h,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(d.ok){console.log("Task Deleted");const v=await d.json();s(v),c(),o()}else console.log("Failed to delete task")}catch(d){console.log(d)}}async function a(){if(!r)return;const g=`${T}/api/v1/weddings/${r._id}/checklist/${e.task._id}`;try{const h=await fetch(g,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(h.ok){const d=await h.json();console.log("Checklist container deleted"),s(d),o()}else console.log("Failed to delete checklist container")}catch(h){console.log(h)}}return n("div",{id:e.task._id,className:"space-y-2",children:[n("div",{className:"flex space-x-4 items-center",children:[n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0118 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3l1.5 1.5 3-3.75"})}),n("div",{className:"flex justify-between w-full",children:[n("div",{className:"flex space-x-1",children:[n(E,{value:e.task.type,fieldType:"text",fieldName:"type",updateField:i,isBold:!0}),":"," ",n(E,{value:e.task.vendor,fieldType:"text",fieldName:"vendor",updateField:i,forceFull:!0})]}),n("div",{className:"flex space-x-2 flex-shrink-0 flex-grow-0",children:[n("button",{className:"bg-base-300 px-2 py-1 rounded text-xs",children:"Hide Checked Items"}),n("button",{onClick:a,className:"bg-error/80 text-neutral px-2 py-1 rounded text-xs",children:"Delete"})]})]})]}),n("div",{className:"flex space-x-2 items-center",children:[n("p",{id:e.task._id,className:"text-xs",children:[t,"%"]}),n(lt,{value:t})]}),e.task.tasks.map((g,h)=>n("div",{className:"flex justify-between gap-4",children:[n(zt,{refetchWedding:e.refetchWedding,tasks:g,checklistIndex:e.checklistIndex,taskIndex:h},g._id),n("button",{className:" text-error/80",onClick:()=>m(h),children:n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})]})),n("div",{className:"pt-4",children:n("button",{onClick:p,className:"bg-success/80 text-base-100 text-xs px-2 py-1 rounded ml-9",children:"Add Task"})})]})}function Ot(e){const[t,l]=y(!1),{allWeddings:r,setAllWeddings:s,wedding:o,setWedding:c,showModal:i,setShowModal:p,refetchData:m,agents:a}=I(P);y(o==null?void 0:o.agent),F(()=>{s(r)},[r]);async function g(_,u){if(!o)return;const f=`${T}/api/v1/weddings/${o._id}`;let k={[_]:u};if(_==="agent"){const b=a.find($=>$.displayName===u);k={...k,agentId:b==null?void 0:b._id}}try{const b=await fetch(f,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(b.ok){const $=await b.json();console.log("Wedding Field Updated Successfully"),console.log($),c($),m()}}catch(b){console.log(b)}}async function h(){if(!o)return;const _=`${T}/api/v1/weddings/${o._id}/checklist`;try{const u=await fetch(_,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"Type",vendor:"Vendor"})});if(u.ok){const f=await u.json();console.log("Checklist container added"),c(f),m()}else console.log("Failed to add checklist container")}catch(u){console.log(u)}}function d(_){(_==null?void 0:_.target.id)==="background"&&(Vt(o),e.setShowModal(!i))}async function v(){if(window.confirm("Are you sure you want to delete?"))try{const _=`${T}/api/v1/weddings/${o==null?void 0:o._id}`,f=await(await fetch(_,{method:"DELETE",headers:{"Content-Type":"application/json"}})).json();console.log("Wedding Successfull Deleted"),m(),e.setShowModal(!i)}catch(_){console.log(_)}}return n("div",{children:n("div",{id:"background",onClick:d,className:"absolute w-full top-0 left-0 h-full bg-gray-500/60 flex justify-center items-center",children:n("div",{className:"h-[90%] w-[900px] bg-base-100 rounded shadow-lg flex",children:[n("div",{className:"h-full w-full p-6 overflow-y-scroll space-y-10 flex-1 scrollbar-none",children:[n("div",{className:"flex space-x-4 items-center",children:[n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5 mt-1",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),n("div",{className:"w-full",children:[n(E,{value:o==null?void 0:o.name,fieldName:"name",fieldType:"text",updateField:g,isBold:!0}),n(E,{value:o==null?void 0:o.email,fieldName:"email",fieldType:"email",updateField:g}),n(E,{value:o!=null&&o.date?J(o.date):"",fieldName:"date",fieldType:"date",updateField:g})]})]}),n("div",{children:n("h2",{className:"font-semibold text-sm",children:"Notifications:"})}),n("div",{className:"flex space-x-4",children:[n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),n("div",{className:"text-sm space-y-2 w-full",children:[n("div",{className:"flex space-x-4 w-full",children:n("h2",{className:"font-semibold text-base",children:"Description:"})}),n("div",{className:"space-y-2 w-full",children:[n("div",{className:"flex space-x-2 w-full",children:[n("h2",{className:"font-semibold",children:"Budget: "}),n(E,{value:(o==null?void 0:o.budget)||0,fieldName:"budget",fieldType:"number",updateField:g,forceFull:!0})]}),n("div",{className:"flex space-x-2 w-full",children:[n("h2",{className:"font-semibold",children:"Venue: "}),n(E,{value:o==null?void 0:o.venue,fieldName:"venue",fieldType:"text",updateField:g,forceFull:!0})]}),n("div",{className:"flex space-x-2 w-full",children:[n("h2",{className:"font-semibold",children:"Guests: "}),n(E,{value:o==null?void 0:o.guests,fieldName:"guests",fieldType:"number",updateField:g,forceFull:!0})]})]})]})]}),n("div",{className:"flex space-x-4",children:[n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18.375 12.739l-7.693 7.693a4.5 4.5 0 01-6.364-6.364l10.94-10.94A3 3 0 1119.5 7.372L8.552 18.32m.009-.01l-.01.01m5.699-9.941l-7.81 7.81a1.5 1.5 0 002.112 2.13"})}),n("h1",{className:"font-semibold",children:"Attachments: "})]}),o==null?void 0:o.checklist.map((_,u)=>n("div",{children:n(Ut,{refetchWedding:e.refetchWedding,task:_,checklistIndex:u})},_._id)),n("button",{onClick:h,className:"text-xs bg-success/80 text-neutral px-2 py-1 rounded",children:"Add Checklist"})]}),n("div",{className:"w-[25%] p-6 space-y-4",children:n("div",{className:"space-y-4",children:[n("div",{className:" flex justify-between items-center text-sm font-semibold",children:[n("h3",{children:"Suggested"}),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5",children:[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})]}),n("button",{className:"bg-base-300 px-2 py-1 rounded text-sm w-full text-left flex space-x-1 items-center",children:[n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-4 h-4",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),n("p",{children:"Join"})]}),n("div",{className:"text-sm space-y-2",children:[n("h2",{className:"font-semibold",children:"Additional Info"}),(o==null?void 0:o.createdAt)&&n("div",{children:[n("p",{className:"font-semibold",children:"Created: "}),n("p",{children:J(o.createdAt)})]})]}),n("div",{className:"text-sm",children:[n("h1",{className:"font-semibold",children:"Planner:"}),t?n("select",{name:"agent",value:o==null?void 0:o.agent,onChange:_=>{_.target instanceof HTMLSelectElement&&g("agent",_.target.value)},className:"focus:outline-none text-sm w-full",children:a.map(_=>n("option",{value:_.displayName,children:_.displayName},_._id))}):n("p",{onClick:()=>l(!t),children:o==null?void 0:o.agent})]}),n("button",{onClick:v,className:"bg-error/80 text-neutral px-2 py-1 rounded text-xs",children:"Delete"})]})})]})})})}function Rt({searchTerm:e,setSearchTerm:t}){const{allWeddings:l,setAllWeddings:r,wedding:s,setWedding:o,showModal:c,setShowModal:i,agents:p}=I(P),[m,a]=y("date"),[g,h]=y(!0),[d,v]=y("");async function _(f){var b;i(!c);const k=f.target;if(k instanceof Element){const $=(b=k.closest(".weddingContainer"))==null?void 0:b.id;$&&v($);const A=`${T}/api/v1/weddings/${$}`,M=await(await fetch(A)).json();o(M),t("")}}async function u(){const f=`${T}/api/v1/weddings/${d}`,b=await(await fetch(f)).json();o(b)}return n("section",{className:"flex flex-col h-full",children:[n("div",{className:"grid grid-cols-5 text-sm font-bold border-b border-base-300 mb-4 p-6",children:[n(H,{sortBy:m,setSortBy:a,asc:g,setAsc:h,fieldName:"name",label:"Wedding",iconSvg:n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})})}),n(H,{sortBy:m,setSortBy:a,asc:g,setAsc:h,fieldName:"email",label:"Email",iconSvg:n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 9v.906a2.25 2.25 0 01-1.183 1.981l-6.478 3.488M2.25 9v.906a2.25 2.25 0 001.183 1.981l6.478 3.488m8.839 2.51l-4.66-2.51m0 0l-1.023-.55a2.25 2.25 0 00-2.134 0l-1.022.55m0 0l-4.661 2.51m16.5 1.615a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V8.844a2.25 2.25 0 011.183-1.98l7.5-4.04a2.25 2.25 0 012.134 0l7.5 4.04a2.25 2.25 0 011.183 1.98V19.5z"})})}),n(H,{sortBy:m,setSortBy:a,asc:g,setAsc:h,fieldName:"date",label:"Date",iconSvg:n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"})})}),n(H,{sortBy:m,setSortBy:a,asc:g,setAsc:h,fieldName:"agent",label:"Planner",iconSvg:n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12.75 3.03v.568c0 .334.148.65.405.864l1.068.89c.442.369.535 1.01.216 1.49l-.51.766a2.25 2.25 0 01-1.161.886l-.143.048a1.107 1.107 0 00-.57 1.664c.369.555.169 1.307-.427 1.605L9 13.125l.423 1.059a.956.956 0 01-1.652.928l-.679-.906a1.125 1.125 0 00-1.906.172L4.5 15.75l-.612.153M12.75 3.031a9 9 0 00-8.862 12.872M12.75 3.031a9 9 0 016.69 14.036m0 0l-.177-.529A2.25 2.25 0 0017.128 15H16.5l-.324-.324a1.453 1.453 0 00-2.328.377l-.036.073a1.586 1.586 0 01-.982.816l-.99.282c-.55.157-.894.702-.8 1.267l.073.438c.08.474.49.821.97.821.846 0 1.598.542 1.865 1.345l.215.643m5.276-3.67a9.012 9.012 0 01-5.276 3.67m0 0a9 9 0 01-10.275-4.835M15.75 9c0 .896-.393 1.7-1.016 2.25"})})}),n(H,{sortBy:m,setSortBy:a,asc:g,setAsc:h,fieldName:"progress",label:"Progress",iconSvg:n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"})})})]}),n("div",{className:"flex-1 overflow-y-scroll scrollbar-none",children:[l&&Jt(l,m,g).filter(f=>e?f.name.toLowerCase().includes(e.toLowerCase())||f.email.toLowerCase().includes(e.toLowerCase()):!0).map(f=>n("div",{children:[n("div",{onClick:_,id:f._id,className:"weddingContainer space-y-4 bg-base-100 rounded text-sm",children:n("div",{className:"grid grid-cols-5 p-6 font-semibold",children:[n("h1",{children:f.name}),n("a",{href:"#",children:f.email}),n("h1",{children:J(f.date)}),n("h1",{children:f.agent}),n("div",{className:" flex items-center space-x-4",children:[n(lt,{value:R(f)}),n("p",{className:"text-sm",children:`${R(f)}%`})]})]})}),n("hr",{className:"my-4 h-px border-t-0 bg-transparent bg-gradient-to-r from-transparent via-base-100 to-transparent opacity-25 dark:opacity-100"})]})),c&&n(Ot,{setShowModal:i,showModal:c,wedding:s,refetchWedding:u})]})]})}function Jt(e,t,l){return e.sort((r,s)=>{switch(t){case"date":return l?new Date(r.date).getTime()-new Date(s.date).getTime():new Date(s.date).getTime()-new Date(r.date).getTime();case"name":return l?r.name.localeCompare(s.name):s.name.localeCompare(r.name);case"email":return l?r.email.localeCompare(s.email):s.email.localeCompare(r.email);case"agent":return l?r.agent.localeCompare(s.agent):s.agent.localeCompare(r.agent);case"progress":return l?R(r)-R(s):R(s)-R(r);default:return l?new Date(r.date).getTime()-new Date(s.date).getTime():new Date(s.date).getTime()-new Date(r.date).getTime()}})}function R(e){const t=e.checklist.map(s=>s.tasks);let l=[];return t.forEach(s=>{s.forEach(o=>{l=[...l,o]})}),+(l.filter(s=>s.completed).length/l.length*100).toFixed(0)||0}function H({sortBy:e,setSortBy:t,asc:l,setAsc:r,fieldName:s,label:o,iconSvg:c}){return n("div",{onClick:()=>{r(e===s?!l:!0),t(s)},className:"flex items-center space-x-2",children:[c,n("h2",{children:o}),e===s?n("button",{className:`${e===s?"bg-accent-focus text-neutral rounded":""}`,children:l?n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-4 h-4",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})}):n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-4 h-4",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})}):n("button",{className:`${e===s?"bg-accent-focus text-neutral rounded":""}`,children:n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-4 h-4",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"})})})]})}function qt(){const{tasks:e,fetchTasks:t,user:l}=I(P),[r,s]=y(""),[o,c]=y(!0);return n("section",{className:"flex flex-col h-full",children:[n("div",{className:"grid grid-cols-4 text-sm font-bold border-b border-base-300 mb-4 p-6",children:[n(H,{sortBy:r,setSortBy:s,asc:o,setAsc:c,fieldName:"name",label:"Wedding",iconSvg:n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})})}),n(H,{sortBy:r,setSortBy:s,asc:o,setAsc:c,fieldName:"date",label:"Date",iconSvg:n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"})})}),n(H,{sortBy:r,setSortBy:s,asc:o,setAsc:c,fieldName:"task",label:"Todo",iconSvg:n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-5 h-5",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0118 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3l1.5 1.5 3-3.75"})})}),n(H,{sortBy:r,setSortBy:s,asc:o,setAsc:c,fieldName:"deadline",label:"Deadline",iconSvg:n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6",children:n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),n("div",{className:"flex-1 overflow-y-scroll scrollbar-none",children:e&&e.map(i=>n("div",{children:[n(Gt,{weddingName:i.weddingName,weddingDate:i.weddingDate,task:i.task,deadline:i.deadline,weddingId:i.weddingId,taskObject:i}),n("hr",{className:"my-4 h-px border-t-0 bg-transparent bg-gradient-to-r from-transparent via-base-100 to-transparent opacity-25 dark:opacity-100"})]},i._id))})]})}function Gt({weddingName:e,weddingDate:t,task:l,deadline:r,weddingId:s,taskObject:o}){const[c,i]=y(""),[p,m]=y(""),{fetchTasks:a,user:g,refetchData:h}=I(P);F(()=>{console.log(o)},[o]),F(()=>{const _=new Date(r),u=new Date;u.setDate(u.getDate()+7),_<u?i("bg-warning/70 text-neutral px-2"):i("")},[r]);async function d(){if(window.confirm("Mark as complete?"))try{const _=`${T}/api/v1/weddings/${o.weddingId}/checklist/${o.checklistId}/tasks/${o._id}`,u=await fetch(_,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({completed:!o.completed,completedAt:l.completed?null:new Date})});if(u.ok){const f=u.json();console.log(f),h(),a()}}catch(_){console.log(_)}}async function v(){try{const _=`${T}/api/v1/weddings/${o.weddingId}/checklist/${o.checklistId}/tasks/${o._id}/comments`,u=await fetch(_,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({author:"Sarah Whittaker",createdAt:new Date,text:p})});if(u.ok){const f=u.json();m(""),a()}}catch(_){console.log(_)}}return n("div",{className:"bg-base-100 p-6 rounded text-sm",children:[n("div",{className:"grid grid-cols-4 font-semibold",children:[n("h1",{children:e}),n("h3",{children:J(t)}),n("h3",{children:l}),n("div",{className:` ${c} rounded w-fit`,children:n(E,{value:J(r),fieldName:"deadline",fieldType:"date"})})]}),n("hr",{className:"my-4 h-px border-t-0 bg-transparent bg-gradient-to-r from-transparent via-base-300 to-transparent opacity-25 dark:opacity-100"}),n("div",{className:"grid grid-cols-4 h-full mt-6 font-semibold",children:[n("div",{className:"col-span-3 flex flex-col",style:{minHeight:"100%"},children:[n("h3",{children:"Comments: "}),n("div",{className:"mr-6 mt-6",children:n("div",{className:"w-full flex-1 p-3 rounded  bg-base-300",children:[n("div",{className:"h-full w-full space-y-1",children:n("div",{className:"max-h-64 overflow-y-scroll",children:o&&o.comments.map(_=>n(Kt,{_id:_._id,parentId:_.parentId,text:_.text,createdAt:_.createdAt,authorId:_.authorId,author:_.author,updatedAt:_.updatedAt,weddingId:o.weddingId,chatStart:!0,taskObject:o}))})}),n("div",{className:"col-span-3 rounded-sm overflow-hidden mt-6",children:n("div",{className:"flex",children:n("input",{value:p,onChange:_=>{_.target instanceof HTMLInputElement&&m(_.target.value)},onKeyPress:_=>{_.key==="Enter"&&v()},type:"textArea",placeholder:"Message...",className:"w-full h-6 font-normal placeholder:text-neutral-content/50 focus:outline-none px-2 focus:border-b focus:border-info text-sm placeholder:text-xs"})})})]})})]}),n("div",{className:"space-y-6 mb-6",children:[n("h3",{children:"Mark As Complete: "}),n("button",{onClick:d,className:"bg-success/80 text-neutral text-xs px-2 py-1 rounded flex items-center",children:"Complete"})]})]})]})}function Kt({author:e,text:t,createdAt:l,chatStart:r,authorId:s,updatedAt:o,taskObject:c,_id:i}){const[p,m]=y(!1),{fetchTasks:a,refetchData:g}=I(P);async function h(){try{const d=`${T}/api/v1/weddings/${c.weddingId}/checklist/${c.checklistId}/tasks/${c._id}/comments/${i}`;(await fetch(d,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok&&(console.log("Comment deleted successfully"),a())}catch(d){console.log(d)}}return n("div",{className:"flex items-center",children:[n("div",{id:i,onClick:d=>m(!p),className:`chat ${r?"chat-start":"chat-end"} items-center space-y-1 flex-1`,children:[n("div",{className:"chat-image avatar"}),n("div",{className:"chat-header text-xs",children:[e,n("time",{className:"text-xs opacity-50"})]}),n("div",{className:"chat-bubble text-xs flex items-center",children:t}),n("div",{className:"chat-footer opacity-50 text-xs",children:"Seen"})]}),p&&n("button",{onClick:h,className:"bg-error/80 text-neutral rounded px-2 py-1 text-xs",children:"delete"})]})}function Zt(){return n("div",{children:n("h1",{children:"Hello from the Edit Weddings Component"})})}function Yt(){const[e,t]=y("Overview"),[l,r]=y("");return n(wt,{children:n("main",{className:"h-screen flex flex-col",children:[n("div",{className:"flex-1 flex overflow-hidden",children:[n(Pt,{setNavTarget:t}),n("div",{className:"flex-1 flex flex-col",children:n(te,{fallback:n("div",{children:"Loading..."}),children:[n(Wt,{name:e,imageLink:"/img/BaliEveLogo.webp",searchTerm:l,setSearchTerm:r}),n("div",{className:"h-full p-6 bg-base-200 overflow-hidden overflow-y-scroll scrollbar-none",children:[e==="Overview"&&n(jt,{}),e==="Weddings"&&n(Rt,{searchTerm:l,setSearchTerm:r}),e==="Tasks"&&n(qt,{}),e==="Payments"&&n(Ft,{}),e==="Add_Wedding"&&n(Bt,{}),e==="Edit_Wedding"&&n(Zt,{})]})]})})]}),n(Ht,{})]})})}dt(n(Yt,{}),document.getElementById("app"));
//# sourceMappingURL=index-124603cb.js.map
